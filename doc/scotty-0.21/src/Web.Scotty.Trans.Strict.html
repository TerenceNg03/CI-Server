<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | This module is essentially identical to 'Web.Scotty.Trans', except that </span><span>
</span><span id="line-2"></span><span class="hs-comment">-- some functions take/return strict Text instead of the lazy ones.</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- It should be noted that most of the code snippets below depend on the</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- OverloadedStrings language pragma.</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- The functions in this module allow an arbitrary monad to be embedded</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- in Scotty's monad transformer stack in order that Scotty be combined</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- with other DSLs.</span><span>
</span><span id="line-10"></span><span class="hs-comment">--</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Scotty is set up by default for development mode. For production servers,</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- you will likely want to modify 'settings' and the 'defaultHandler'. See</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- the comments on each of these functions for more information.</span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Web.Scotty.Trans.Strict</span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * scotty-to-WAI</span></span><span>
</span><span id="line-16"></span><span>      </span><span class="annot"><a href="Web.Scotty.Trans.html#scottyT"><span class="hs-identifier">scottyT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html#scottyAppT"><span class="hs-identifier">scottyAppT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html#scottyOptsT"><span class="hs-identifier">scottyOptsT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html#scottySocketT"><span class="hs-identifier">scottySocketT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#Options"><span class="hs-identifier">Options</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#defaultOptions"><span class="hs-identifier">defaultOptions</span></a></span><span>
</span><span id="line-17"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Defining Middleware and Routes</span></span><span>
</span><span id="line-18"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span>      </span><span class="hs-comment">-- | 'Middleware' and routes are run in the order in which they</span><span>
</span><span id="line-20"></span><span>      </span><span class="hs-comment">-- are defined. All middleware is run first, followed by the first</span><span>
</span><span id="line-21"></span><span>      </span><span class="hs-comment">-- route that matches. If no route matches, a 404 response is given.</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html#middleware"><span class="hs-identifier">middleware</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#get"><span class="hs-identifier">get</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#post"><span class="hs-identifier">post</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#put"><span class="hs-identifier">put</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#delete"><span class="hs-identifier">delete</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#patch"><span class="hs-identifier">patch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#options"><span class="hs-identifier">options</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#addroute"><span class="hs-identifier">addroute</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#matchAny"><span class="hs-identifier">matchAny</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#notFound"><span class="hs-identifier">notFound</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html#setMaxRequestBodySize"><span class="hs-identifier">setMaxRequestBodySize</span></a></span><span>
</span><span id="line-23"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Route Patterns</span></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#capture"><span class="hs-identifier">capture</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#regex"><span class="hs-identifier">regex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#function"><span class="hs-identifier">function</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Route.html#literal"><span class="hs-identifier">literal</span></a></span><span>
</span><span id="line-25"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Accessing the Request, Captures, and Query Parameters</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#request"><span class="hs-identifier">request</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#header"><span class="hs-identifier">Base.header</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#headers"><span class="hs-identifier">Base.headers</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#body"><span class="hs-identifier">body</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#bodyReader"><span class="hs-identifier">bodyReader</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#param"><span class="hs-identifier">param</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#params"><span class="hs-identifier">params</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#captureParam"><span class="hs-identifier">captureParam</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#formParam"><span class="hs-identifier">formParam</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#queryParam"><span class="hs-identifier">queryParam</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#captureParamMaybe"><span class="hs-identifier">captureParamMaybe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#formParamMaybe"><span class="hs-identifier">formParamMaybe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#queryParamMaybe"><span class="hs-identifier">queryParamMaybe</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#captureParams"><span class="hs-identifier">captureParams</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#formParams"><span class="hs-identifier">formParams</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#queryParams"><span class="hs-identifier">queryParams</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#jsonData"><span class="hs-identifier">jsonData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#files"><span class="hs-identifier">files</span></a></span><span>
</span><span id="line-32"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Modifying the Response and Redirecting</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#status"><span class="hs-identifier">status</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#addHeader"><span class="hs-identifier">Base.addHeader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#setHeader"><span class="hs-identifier">Base.setHeader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#redirect"><span class="hs-identifier">Base.redirect</span></a></span><span>
</span><span id="line-34"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Setting Response Body</span></span><span>
</span><span id="line-35"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-36"></span><span>      </span><span class="hs-comment">-- | Note: only one of these should be present in any given route</span><span>
</span><span id="line-37"></span><span>      </span><span class="hs-comment">-- definition, as they completely replace the current 'Response' body.</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#text"><span class="hs-identifier">Base.text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#html"><span class="hs-identifier">Base.html</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#file"><span class="hs-identifier">file</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#json"><span class="hs-identifier">json</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#stream"><span class="hs-identifier">stream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#raw"><span class="hs-identifier">raw</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#nested"><span class="hs-identifier">nested</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#textLazy"><span class="hs-identifier">textLazy</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#htmlLazy"><span class="hs-identifier">htmlLazy</span></a></span><span>
</span><span id="line-41"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Accessing the fields of the Response</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#getResponseHeaders"><span class="hs-identifier">getResponseHeaders</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#getResponseStatus"><span class="hs-identifier">getResponseStatus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#getResponseContent"><span class="hs-identifier">getResponseContent</span></a></span><span>
</span><span id="line-43"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Exceptions</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#raise"><span class="hs-identifier">Base.raise</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#raiseStatus"><span class="hs-identifier">Base.raiseStatus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#throw"><span class="hs-identifier">throw</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#rescue"><span class="hs-identifier">rescue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#next"><span class="hs-identifier">next</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#finish"><span class="hs-identifier">finish</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html#defaultHandler"><span class="hs-identifier">defaultHandler</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#liftAndCatchIO"><span class="hs-identifier">liftAndCatchIO</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#StatusError"><span class="hs-identifier">StatusError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#ScottyException"><span class="hs-identifier">ScottyException</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Parsing Parameters</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#Param"><span class="hs-identifier">Param</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#Parsable"><span class="hs-identifier">Parsable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html#readEither"><span class="hs-identifier">readEither</span></a></span><span>
</span><span id="line-49"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#RoutePattern"><span class="hs-identifier">RoutePattern</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#File"><span class="hs-identifier">File</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#Content"><span class="hs-identifier">Content</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#Kilobytes"><span class="hs-identifier">Kilobytes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#ErrorHandler"><span class="hs-identifier">ErrorHandler</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Handler</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Monad Transformers</span></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#ScottyT"><span class="hs-identifier">ScottyT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#ActionT"><span class="hs-identifier">ActionT</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#ScottyState"><span class="hs-identifier">ScottyState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Web.Scotty.Internal.Types.html#defaultScottyState"><span class="hs-identifier">defaultScottyState</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Web.Scotty.Action.html"><span class="hs-identifier">Web.Scotty.Action</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Base</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Web.Scotty.Trans.html"><span class="hs-identifier">Web.Scotty.Trans</span></a></span><span>
</span><span id="line-57"></span></pre></body></html>