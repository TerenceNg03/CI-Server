<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679780958"><span id="local-6989586621679780959"></span></span><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveLift #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Persist.Types.Base</span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html"><span class="hs-identifier">Database.Persist.Types.Base</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier">PersistValue</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#fromPersistValueText"><span class="hs-identifier">fromPersistValueText</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#LiteralType"><span class="hs-identifier">LiteralType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exception</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isSpace</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NEL</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isNothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word32</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Lift</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Web.HttpApiData</span></span><span>
</span><span id="line-29"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">FromHttpApiData</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToHttpApiData</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">parseBoundedTextData</span></span><span>
</span><span id="line-32"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">showTextData</span></span><span>
</span><span id="line-33"></span><span>       </span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Web.PathPieces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PathPiece</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-comment">-- Bring `Lift (Map k v)` instance into scope, as well as `Lift Text`</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-comment">-- instance on pre-1.2.4 versions of `text`</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Instances.TH.Lift</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Persist.Names.html"><span class="hs-identifier">Database.Persist.Names</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html"><span class="hs-identifier">Database.Persist.PersistValue</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- | A 'Checkmark' should be used as a field type whenever a</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- uniqueness constraint should guarantee that a certain kind of</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- record may appear at most once, but other kinds of records may</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- appear any number of times.</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- /NOTE:/ You need to mark any @Checkmark@ fields as @nullable@</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- (see the following example).</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- For example, suppose there's a @Location@ entity that</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- represents where a user has lived:</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- Location</span><span>
</span><span id="line-55"></span><span class="hs-comment">--     user    UserId</span><span>
</span><span id="line-56"></span><span class="hs-comment">--     name    Text</span><span>
</span><span id="line-57"></span><span class="hs-comment">--     current Checkmark nullable</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">--     UniqueLocation user current</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- The @UniqueLocation@ constraint allows any number of</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- 'Inactive' @Location@s to be @current@.  However, there may be</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- at most one @current@ @Location@ per user (i.e., either zero</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- or one per user).</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- This data type works because of the way that SQL treats</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- @NULL@able fields within uniqueness constraints.  The SQL</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- standard says that @NULL@ values should be considered</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- different, so we represent 'Inactive' as SQL @NULL@, thus</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- allowing any number of 'Inactive' records.  On the other hand,</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- we represent 'Active' as @TRUE@, so the uniqueness constraint</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- will disallow more than one 'Active' record.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- /Note:/ There may be DBMSs that do not respect the SQL</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- standard's treatment of @NULL@ values on uniqueness</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- constraints, please check if this data type works before</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- relying on it.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- The SQL @BOOLEAN@ type is used because it's the smallest data</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- type available.  Note that we never use @FALSE@, just @TRUE@</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- and @NULL@.  Provides the same behavior @Maybe ()@ would if</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- @()@ was a valid 'PersistField'.</span><span>
</span><span id="line-84"></span><span class="hs-keyword">data</span><span> </span><span id="Checkmark"><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-var">Checkmark</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Active"><span class="annot"><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span></span><span>
</span><span id="line-85"></span><span>                 </span><span class="hs-comment">-- ^ When used on a uniqueness constraint, there</span><span>
</span><span id="line-86"></span><span>                 </span><span class="hs-comment">-- may be at most one 'Active' record.</span><span>
</span><span id="line-87"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="Inactive"><span class="annot"><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span></span><span>
</span><span id="line-88"></span><span>                 </span><span class="hs-comment">-- ^ When used on a uniqueness constraint, there</span><span>
</span><span id="line-89"></span><span>                 </span><span class="hs-comment">-- may be any number of 'Inactive' records.</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781035"><span id="local-6989586621679781037"><span class="annot"><span class="annottext">Checkmark -&gt; Checkmark -&gt; Bool
(Checkmark -&gt; Checkmark -&gt; Bool)
-&gt; (Checkmark -&gt; Checkmark -&gt; Bool) -&gt; Eq Checkmark
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Checkmark -&gt; Checkmark -&gt; Bool
== :: Checkmark -&gt; Checkmark -&gt; Bool
$c/= :: Checkmark -&gt; Checkmark -&gt; Bool
/= :: Checkmark -&gt; Checkmark -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781044"><span id="local-6989586621679781046"><span id="local-6989586621679781048"><span id="local-6989586621679781052"><span id="local-6989586621679781055"><span id="local-6989586621679781058"><span id="local-6989586621679781061"><span class="annot"><span class="annottext">Eq Checkmark
Eq Checkmark =&gt;
(Checkmark -&gt; Checkmark -&gt; Ordering)
-&gt; (Checkmark -&gt; Checkmark -&gt; Bool)
-&gt; (Checkmark -&gt; Checkmark -&gt; Bool)
-&gt; (Checkmark -&gt; Checkmark -&gt; Bool)
-&gt; (Checkmark -&gt; Checkmark -&gt; Bool)
-&gt; (Checkmark -&gt; Checkmark -&gt; Checkmark)
-&gt; (Checkmark -&gt; Checkmark -&gt; Checkmark)
-&gt; Ord Checkmark
Checkmark -&gt; Checkmark -&gt; Bool
Checkmark -&gt; Checkmark -&gt; Ordering
Checkmark -&gt; Checkmark -&gt; Checkmark
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Checkmark -&gt; Checkmark -&gt; Ordering
compare :: Checkmark -&gt; Checkmark -&gt; Ordering
$c&lt; :: Checkmark -&gt; Checkmark -&gt; Bool
&lt; :: Checkmark -&gt; Checkmark -&gt; Bool
$c&lt;= :: Checkmark -&gt; Checkmark -&gt; Bool
&lt;= :: Checkmark -&gt; Checkmark -&gt; Bool
$c&gt; :: Checkmark -&gt; Checkmark -&gt; Bool
&gt; :: Checkmark -&gt; Checkmark -&gt; Bool
$c&gt;= :: Checkmark -&gt; Checkmark -&gt; Bool
&gt;= :: Checkmark -&gt; Checkmark -&gt; Bool
$cmax :: Checkmark -&gt; Checkmark -&gt; Checkmark
max :: Checkmark -&gt; Checkmark -&gt; Checkmark
$cmin :: Checkmark -&gt; Checkmark -&gt; Checkmark
min :: Checkmark -&gt; Checkmark -&gt; Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781065"><span id="local-6989586621679781069"><span id="local-6989586621679781072"><span id="local-6989586621679781077"><span class="annot"><span class="annottext">ReadPrec [Checkmark]
ReadPrec Checkmark
Int -&gt; ReadS Checkmark
ReadS [Checkmark]
(Int -&gt; ReadS Checkmark)
-&gt; ReadS [Checkmark]
-&gt; ReadPrec Checkmark
-&gt; ReadPrec [Checkmark]
-&gt; Read Checkmark
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Checkmark
readsPrec :: Int -&gt; ReadS Checkmark
$creadList :: ReadS [Checkmark]
readList :: ReadS [Checkmark]
$creadPrec :: ReadPrec Checkmark
readPrec :: ReadPrec Checkmark
$creadListPrec :: ReadPrec [Checkmark]
readListPrec :: ReadPrec [Checkmark]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781081"><span id="local-6989586621679781083"><span id="local-6989586621679781087"><span class="annot"><span class="annottext">Int -&gt; Checkmark -&gt; ShowS
[Checkmark] -&gt; ShowS
Checkmark -&gt; [Char]
(Int -&gt; Checkmark -&gt; ShowS)
-&gt; (Checkmark -&gt; [Char])
-&gt; ([Checkmark] -&gt; ShowS)
-&gt; Show Checkmark
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Checkmark -&gt; ShowS
showsPrec :: Int -&gt; Checkmark -&gt; ShowS
$cshow :: Checkmark -&gt; [Char]
show :: Checkmark -&gt; [Char]
$cshowList :: [Checkmark] -&gt; ShowS
showList :: [Checkmark] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781091"><span id="local-6989586621679781099"><span id="local-6989586621679781105"><span id="local-6989586621679781117"><span id="local-6989586621679781119"><span id="local-6989586621679781123"><span id="local-6989586621679781127"><span id="local-6989586621679781131"><span class="annot"><span class="annottext">Int -&gt; Checkmark
Checkmark -&gt; Int
Checkmark -&gt; [Checkmark]
Checkmark -&gt; Checkmark
Checkmark -&gt; Checkmark -&gt; [Checkmark]
Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark]
(Checkmark -&gt; Checkmark)
-&gt; (Checkmark -&gt; Checkmark)
-&gt; (Int -&gt; Checkmark)
-&gt; (Checkmark -&gt; Int)
-&gt; (Checkmark -&gt; [Checkmark])
-&gt; (Checkmark -&gt; Checkmark -&gt; [Checkmark])
-&gt; (Checkmark -&gt; Checkmark -&gt; [Checkmark])
-&gt; (Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark])
-&gt; Enum Checkmark
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
$csucc :: Checkmark -&gt; Checkmark
succ :: Checkmark -&gt; Checkmark
$cpred :: Checkmark -&gt; Checkmark
pred :: Checkmark -&gt; Checkmark
$ctoEnum :: Int -&gt; Checkmark
toEnum :: Int -&gt; Checkmark
$cfromEnum :: Checkmark -&gt; Int
fromEnum :: Checkmark -&gt; Int
$cenumFrom :: Checkmark -&gt; [Checkmark]
enumFrom :: Checkmark -&gt; [Checkmark]
$cenumFromThen :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
enumFromThen :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
$cenumFromTo :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
enumFromTo :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
$cenumFromThenTo :: Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark]
enumFromThenTo :: Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781135"><span id="local-6989586621679781137"><span class="annot"><span class="annottext">Checkmark
Checkmark -&gt; Checkmark -&gt; Bounded Checkmark
forall a. a -&gt; a -&gt; Bounded a
$cminBound :: Checkmark
minBound :: Checkmark
$cmaxBound :: Checkmark
maxBound :: Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679781142"><span id="local-6989586621679781146"><span id="local-6989586621679781149"><span id="local-6989586621679781152"><span class="annot"><span class="hs-identifier hs-type">ToHttpApiData</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679781156"><span class="annot"><span class="annottext">toUrlPiece :: Checkmark -&gt; Text
</span><a href="#local-6989586621679781156"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUrlPiece</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">showTextData</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679781160"><span id="local-6989586621679781164"><span class="annot"><span class="hs-identifier hs-type">FromHttpApiData</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679781170"><span class="annot"><span class="annottext">parseUrlPiece :: Text -&gt; Either Text Checkmark
</span><a href="#local-6989586621679781170"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseUrlPiece</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Checkmark
forall a. (Show a, Bounded a, Enum a) =&gt; Text -&gt; Either Text a
</span><span class="hs-identifier hs-var">parseBoundedTextData</span></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PathPiece</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span id="local-6989586621679781178"><span class="annot"><span class="annottext">toPathPiece :: Checkmark -&gt; Text
</span><a href="#local-6989586621679781178"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPathPiece</span></a></span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;active&quot;</span></span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toPathPiece</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inactive&quot;</span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621679781184"><span class="annot"><span class="annottext">fromPathPiece :: Text -&gt; Maybe Checkmark
</span><a href="#local-6989586621679781184"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPathPiece</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;active&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Maybe Checkmark
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromPathPiece</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inactive&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Maybe Checkmark
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromPathPiece</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Checkmark
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="IsNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#IsNullable"><span class="hs-identifier hs-var">IsNullable</span></a></span></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Nullable"><span class="annot"><a href="Database.Persist.Types.Base.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#WhyNullable"><span class="hs-identifier hs-type">WhyNullable</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NotNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#NotNullable"><span class="hs-identifier hs-var">NotNullable</span></a></span></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781189"><span id="local-6989586621679781193"><span class="annot"><span class="annottext">IsNullable -&gt; IsNullable -&gt; Bool
(IsNullable -&gt; IsNullable -&gt; Bool)
-&gt; (IsNullable -&gt; IsNullable -&gt; Bool) -&gt; Eq IsNullable
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: IsNullable -&gt; IsNullable -&gt; Bool
== :: IsNullable -&gt; IsNullable -&gt; Bool
$c/= :: IsNullable -&gt; IsNullable -&gt; Bool
/= :: IsNullable -&gt; IsNullable -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781197"><span id="local-6989586621679781202"><span id="local-6989586621679781206"><span class="annot"><span class="annottext">Int -&gt; IsNullable -&gt; ShowS
[IsNullable] -&gt; ShowS
IsNullable -&gt; [Char]
(Int -&gt; IsNullable -&gt; ShowS)
-&gt; (IsNullable -&gt; [Char])
-&gt; ([IsNullable] -&gt; ShowS)
-&gt; Show IsNullable
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; IsNullable -&gt; ShowS
showsPrec :: Int -&gt; IsNullable -&gt; ShowS
$cshow :: IsNullable -&gt; [Char]
show :: IsNullable -&gt; [Char]
$cshowList :: [IsNullable] -&gt; ShowS
showList :: [IsNullable] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Database.Persist.Types.Base.html#fieldAttrsContainsNullable"><span class="hs-identifier hs-type">fieldAttrsContainsNullable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-type">FieldAttr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#IsNullable"><span class="hs-identifier hs-type">IsNullable</span></a></span><span>
</span><span id="line-112"></span><span id="fieldAttrsContainsNullable"><span class="annot"><span class="annottext">fieldAttrsContainsNullable :: [FieldAttr] -&gt; IsNullable
</span><a href="Database.Persist.Types.Base.html#fieldAttrsContainsNullable"><span class="hs-identifier hs-var hs-var">fieldAttrsContainsNullable</span></a></span></span><span> </span><span id="local-6989586621679781209"><span class="annot"><span class="annottext">[FieldAttr]
</span><a href="#local-6989586621679781209"><span class="hs-identifier hs-var">s</span></a></span></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMaybe"><span class="hs-identifier hs-var">FieldAttrMaybe</span></a></span><span>    </span><span class="annot"><span class="annottext">FieldAttr -&gt; [FieldAttr] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[FieldAttr]
</span><a href="#local-6989586621679781209"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WhyNullable -&gt; IsNullable
</span><a href="Database.Persist.Types.Base.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span> </span><span class="annot"><span class="annottext">WhyNullable
</span><a href="Database.Persist.Types.Base.html#ByMaybeAttr"><span class="hs-identifier hs-var">ByMaybeAttr</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrNullable"><span class="hs-identifier hs-var">FieldAttrNullable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldAttr -&gt; [FieldAttr] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[FieldAttr]
</span><a href="#local-6989586621679781209"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WhyNullable -&gt; IsNullable
</span><a href="Database.Persist.Types.Base.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span> </span><span class="annot"><span class="annottext">WhyNullable
</span><a href="Database.Persist.Types.Base.html#ByNullableAttr"><span class="hs-identifier hs-var">ByNullableAttr</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IsNullable
</span><a href="Database.Persist.Types.Base.html#NotNullable"><span class="hs-identifier hs-var">NotNullable</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | The reason why a field is 'nullable' is very important.  A</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- field that is nullable because of a @Maybe@ tag will have its</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- type changed from @A@ to @Maybe A@.  OTOH, a field that is</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- nullable because of a @nullable@ tag will remain with the same</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- type.</span><span>
</span><span id="line-122"></span><span class="hs-keyword">data</span><span> </span><span id="WhyNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#WhyNullable"><span class="hs-identifier hs-var">WhyNullable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ByMaybeAttr"><span class="annot"><a href="Database.Persist.Types.Base.html#ByMaybeAttr"><span class="hs-identifier hs-var">ByMaybeAttr</span></a></span></span><span>
</span><span id="line-123"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="ByNullableAttr"><span class="annot"><a href="Database.Persist.Types.Base.html#ByNullableAttr"><span class="hs-identifier hs-var">ByNullableAttr</span></a></span></span><span>
</span><span id="line-124"></span><span>                  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781216"><span id="local-6989586621679781218"><span class="annot"><span class="annottext">WhyNullable -&gt; WhyNullable -&gt; Bool
(WhyNullable -&gt; WhyNullable -&gt; Bool)
-&gt; (WhyNullable -&gt; WhyNullable -&gt; Bool) -&gt; Eq WhyNullable
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: WhyNullable -&gt; WhyNullable -&gt; Bool
== :: WhyNullable -&gt; WhyNullable -&gt; Bool
$c/= :: WhyNullable -&gt; WhyNullable -&gt; Bool
/= :: WhyNullable -&gt; WhyNullable -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781221"><span id="local-6989586621679781223"><span id="local-6989586621679781226"><span class="annot"><span class="annottext">Int -&gt; WhyNullable -&gt; ShowS
[WhyNullable] -&gt; ShowS
WhyNullable -&gt; [Char]
(Int -&gt; WhyNullable -&gt; ShowS)
-&gt; (WhyNullable -&gt; [Char])
-&gt; ([WhyNullable] -&gt; ShowS)
-&gt; Show WhyNullable
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; WhyNullable -&gt; ShowS
showsPrec :: Int -&gt; WhyNullable -&gt; ShowS
$cshow :: WhyNullable -&gt; [Char]
show :: WhyNullable -&gt; [Char]
$cshowList :: [WhyNullable] -&gt; ShowS
showList :: [WhyNullable] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | An 'EntityDef' represents the information that @persistent@ knows</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- about an Entity. It uses this information to generate the Haskell</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- datatype, the SQL migrations, and other relevant conversions.</span><span>
</span><span id="line-129"></span><span class="hs-keyword">data</span><span> </span><span id="EntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-var">EntityDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-var">EntityDef</span></a></span></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="entityHaskell"><span class="annot"><span class="annottext">EntityDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#entityHaskell"><span class="hs-identifier hs-var hs-var">entityHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The name of the entity as Haskell understands it.</span></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityDB"><span class="annot"><span class="annottext">EntityDef -&gt; EntityNameDB
</span><a href="Database.Persist.Types.Base.html#entityDB"><span class="hs-identifier hs-var hs-var">entityDB</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameDB"><span class="hs-identifier hs-type">EntityNameDB</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The name of the database table corresponding to the entity.</span></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityId"><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var hs-var">entityId</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdDef"><span class="hs-identifier hs-type">EntityIdDef</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The entity's primary key or identifier.</span></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityAttrs"><span class="annot"><span class="annottext">EntityDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#entityAttrs"><span class="hs-identifier hs-var hs-var">entityAttrs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-comment">-- ^ The @persistent@ entity syntax allows you to add arbitrary 'Attr's</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-comment">-- to an entity using the @!@ operator. Those attributes are stored in</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-comment">-- this list.</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityFields"><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var hs-var">entityFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-comment">-- ^ The fields for this entity. Note that the ID field will not be</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- present in this list. To get all of the fields for an entity, use</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-comment">-- 'keyAndEntityFields'.</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityUniques"><span class="annot"><span class="annottext">EntityDef -&gt; [UniqueDef]
</span><a href="Database.Persist.Types.Base.html#entityUniques"><span class="hs-identifier hs-var hs-var">entityUniques</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#UniqueDef"><span class="hs-identifier hs-type">UniqueDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The Uniqueness constraints for this entity.</span></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityForeigns"><span class="annot"><span class="annottext">EntityDef -&gt; [ForeignDef]
</span><a href="Database.Persist.Types.Base.html#entityForeigns"><span class="hs-identifier hs-var hs-var">entityForeigns</span></a></span></span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignDef"><span class="hs-identifier hs-type">ForeignDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-comment">-- ^ The foreign key relationships that this entity has to other</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-comment">-- entities.</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityDerives"><span class="annot"><span class="annottext">EntityDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#entityDerives"><span class="hs-identifier hs-var hs-var">entityDerives</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ A list of type classes that have been derived for this entity.</span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityExtra"><span class="annot"><span class="annottext">EntityDef -&gt; Map Text [[Text]]
</span><a href="Database.Persist.Types.Base.html#entityExtra"><span class="hs-identifier hs-var hs-var">entityExtra</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#ExtraLine"><span class="hs-identifier hs-type">ExtraLine</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entitySum"><span class="annot"><span class="annottext">EntityDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#entitySum"><span class="hs-identifier hs-var hs-var">entitySum</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Whether or not this entity represents a sum type in the database.</span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityComments"><span class="annot"><span class="annottext">EntityDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#entityComments"><span class="hs-identifier hs-var hs-var">entityComments</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">-- ^ Optional comments on the entity.</span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-comment">-- @since 2.10.0</span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781244"><span id="local-6989586621679781269"><span id="local-6989586621679781273"><span class="annot"><span class="annottext">Int -&gt; EntityDef -&gt; ShowS
[EntityDef] -&gt; ShowS
EntityDef -&gt; [Char]
(Int -&gt; EntityDef -&gt; ShowS)
-&gt; (EntityDef -&gt; [Char])
-&gt; ([EntityDef] -&gt; ShowS)
-&gt; Show EntityDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; EntityDef -&gt; ShowS
showsPrec :: Int -&gt; EntityDef -&gt; ShowS
$cshow :: EntityDef -&gt; [Char]
show :: EntityDef -&gt; [Char]
$cshowList :: [EntityDef] -&gt; ShowS
showList :: [EntityDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781279"><span id="local-6989586621679781303"><span class="annot"><span class="annottext">EntityDef -&gt; EntityDef -&gt; Bool
(EntityDef -&gt; EntityDef -&gt; Bool)
-&gt; (EntityDef -&gt; EntityDef -&gt; Bool) -&gt; Eq EntityDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: EntityDef -&gt; EntityDef -&gt; Bool
== :: EntityDef -&gt; EntityDef -&gt; Bool
$c/= :: EntityDef -&gt; EntityDef -&gt; Bool
/= :: EntityDef -&gt; EntityDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781310"><span id="local-6989586621679781314"><span id="local-6989586621679781317"><span id="local-6989586621679781368"><span class="annot"><span class="annottext">ReadPrec [EntityDef]
ReadPrec EntityDef
Int -&gt; ReadS EntityDef
ReadS [EntityDef]
(Int -&gt; ReadS EntityDef)
-&gt; ReadS [EntityDef]
-&gt; ReadPrec EntityDef
-&gt; ReadPrec [EntityDef]
-&gt; Read EntityDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS EntityDef
readsPrec :: Int -&gt; ReadS EntityDef
$creadList :: ReadS [EntityDef]
readList :: ReadS [EntityDef]
$creadPrec :: ReadPrec EntityDef
readPrec :: ReadPrec EntityDef
$creadListPrec :: ReadPrec [EntityDef]
readListPrec :: ReadPrec [EntityDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781378"><span id="local-6989586621679781403"><span id="local-6989586621679781421"><span id="local-6989586621679781425"><span id="local-6989586621679781428"><span id="local-6989586621679781431"><span id="local-6989586621679781434"><span class="annot"><span class="annottext">Eq EntityDef
Eq EntityDef =&gt;
(EntityDef -&gt; EntityDef -&gt; Ordering)
-&gt; (EntityDef -&gt; EntityDef -&gt; Bool)
-&gt; (EntityDef -&gt; EntityDef -&gt; Bool)
-&gt; (EntityDef -&gt; EntityDef -&gt; Bool)
-&gt; (EntityDef -&gt; EntityDef -&gt; Bool)
-&gt; (EntityDef -&gt; EntityDef -&gt; EntityDef)
-&gt; (EntityDef -&gt; EntityDef -&gt; EntityDef)
-&gt; Ord EntityDef
EntityDef -&gt; EntityDef -&gt; Bool
EntityDef -&gt; EntityDef -&gt; Ordering
EntityDef -&gt; EntityDef -&gt; EntityDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: EntityDef -&gt; EntityDef -&gt; Ordering
compare :: EntityDef -&gt; EntityDef -&gt; Ordering
$c&lt; :: EntityDef -&gt; EntityDef -&gt; Bool
&lt; :: EntityDef -&gt; EntityDef -&gt; Bool
$c&lt;= :: EntityDef -&gt; EntityDef -&gt; Bool
&lt;= :: EntityDef -&gt; EntityDef -&gt; Bool
$c&gt; :: EntityDef -&gt; EntityDef -&gt; Bool
&gt; :: EntityDef -&gt; EntityDef -&gt; Bool
$c&gt;= :: EntityDef -&gt; EntityDef -&gt; Bool
&gt;= :: EntityDef -&gt; EntityDef -&gt; Bool
$cmax :: EntityDef -&gt; EntityDef -&gt; EntityDef
max :: EntityDef -&gt; EntityDef -&gt; EntityDef
$cmin :: EntityDef -&gt; EntityDef -&gt; EntityDef
min :: EntityDef -&gt; EntityDef -&gt; EntityDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781440"><span id="local-6989586621679781479"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef)
-&gt; Lift EntityDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">-- | The definition for the entity's primary key ID.</span><span>
</span><span id="line-162"></span><span class="hs-comment">--</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-164"></span><span class="hs-keyword">data</span><span> </span><span id="EntityIdDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdDef"><span class="hs-identifier hs-var">EntityIdDef</span></a></span></span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="EntityIdField"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdField"><span class="hs-identifier hs-var">EntityIdField</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-comment">-- ^ The entity has a single key column, and it is a surrogate key - that</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-comment">-- is, you can't go from @rec -&gt; Key rec@.</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="EntityIdNaturalKey"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-var">EntityIdNaturalKey</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-type">CompositeDef</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-comment">-- ^ The entity has a natural key. This means you can write @rec -&gt; Key rec@</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-comment">-- because all the key fields are present on the datatype.</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-comment">-- A natural key can have one or more columns.</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781518"><span id="local-6989586621679781525"><span id="local-6989586621679781528"><span class="annot"><span class="annottext">Int -&gt; EntityIdDef -&gt; ShowS
[EntityIdDef] -&gt; ShowS
EntityIdDef -&gt; [Char]
(Int -&gt; EntityIdDef -&gt; ShowS)
-&gt; (EntityIdDef -&gt; [Char])
-&gt; ([EntityIdDef] -&gt; ShowS)
-&gt; Show EntityIdDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; EntityIdDef -&gt; ShowS
showsPrec :: Int -&gt; EntityIdDef -&gt; ShowS
$cshow :: EntityIdDef -&gt; [Char]
show :: EntityIdDef -&gt; [Char]
$cshowList :: [EntityIdDef] -&gt; ShowS
showList :: [EntityIdDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781531"><span id="local-6989586621679781536"><span class="annot"><span class="annottext">EntityIdDef -&gt; EntityIdDef -&gt; Bool
(EntityIdDef -&gt; EntityIdDef -&gt; Bool)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; Bool) -&gt; Eq EntityIdDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
== :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c/= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
/= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781539"><span id="local-6989586621679781542"><span id="local-6989586621679781545"><span id="local-6989586621679781556"><span class="annot"><span class="annottext">ReadPrec [EntityIdDef]
ReadPrec EntityIdDef
Int -&gt; ReadS EntityIdDef
ReadS [EntityIdDef]
(Int -&gt; ReadS EntityIdDef)
-&gt; ReadS [EntityIdDef]
-&gt; ReadPrec EntityIdDef
-&gt; ReadPrec [EntityIdDef]
-&gt; Read EntityIdDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS EntityIdDef
readsPrec :: Int -&gt; ReadS EntityIdDef
$creadList :: ReadS [EntityIdDef]
readList :: ReadS [EntityIdDef]
$creadPrec :: ReadPrec EntityIdDef
readPrec :: ReadPrec EntityIdDef
$creadListPrec :: ReadPrec [EntityIdDef]
readListPrec :: ReadPrec [EntityIdDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781561"><span id="local-6989586621679781566"><span id="local-6989586621679781570"><span id="local-6989586621679781573"><span id="local-6989586621679781576"><span id="local-6989586621679781579"><span id="local-6989586621679781582"><span class="annot"><span class="annottext">Eq EntityIdDef
Eq EntityIdDef =&gt;
(EntityIdDef -&gt; EntityIdDef -&gt; Ordering)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; Bool)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; Bool)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; Bool)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; Bool)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef)
-&gt; (EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef)
-&gt; Ord EntityIdDef
EntityIdDef -&gt; EntityIdDef -&gt; Bool
EntityIdDef -&gt; EntityIdDef -&gt; Ordering
EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: EntityIdDef -&gt; EntityIdDef -&gt; Ordering
compare :: EntityIdDef -&gt; EntityIdDef -&gt; Ordering
$c&lt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&lt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&lt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&lt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&gt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&gt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&gt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&gt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$cmax :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
max :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
$cmin :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
min :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781585"><span id="local-6989586621679781595"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    EntityIdDef -&gt; Code m EntityIdDef)
-&gt; Lift EntityIdDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; Code m EntityIdDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; Code m EntityIdDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; Code m EntityIdDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><span class="hs-comment">-- | Return the @['FieldDef']@ for the entity keys.</span></span><span>
</span><span id="line-180"></span><span class="annot"><a href="Database.Persist.Types.Base.html#entitiesPrimary"><span class="hs-identifier hs-type">entitiesPrimary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-181"></span><span id="entitiesPrimary"><span class="annot"><span class="annottext">entitiesPrimary :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#entitiesPrimary"><span class="hs-identifier hs-var hs-var">entitiesPrimary</span></a></span></span><span> </span><span id="local-6989586621679781605"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781605"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781605"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-183"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-type">EntityIdNaturalKey</span></a></span><span> </span><span id="local-6989586621679781606"><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679781606"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-184"></span><span>            </span><span class="annot"><span class="annottext">CompositeDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#compositeFields"><span class="hs-identifier hs-var">compositeFields</span></a></span><span> </span><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679781606"><span class="hs-identifier hs-var">fds</span></a></span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdField"><span class="hs-identifier hs-type">EntityIdField</span></a></span><span> </span><span id="local-6989586621679781608"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679781608"><span class="hs-identifier hs-var">fd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-186"></span><span>            </span><span class="annot"><span class="annottext">FieldDef -&gt; NonEmpty FieldDef
forall a. a -&gt; NonEmpty a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679781608"><span class="hs-identifier hs-var">fd</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Database.Persist.Types.Base.html#entityPrimary"><span class="hs-identifier hs-type">entityPrimary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-type">CompositeDef</span></a></span><span>
</span><span id="line-189"></span><span id="entityPrimary"><span class="annot"><span class="annottext">entityPrimary :: EntityDef -&gt; Maybe CompositeDef
</span><a href="Database.Persist.Types.Base.html#entityPrimary"><span class="hs-identifier hs-var hs-var">entityPrimary</span></a></span></span><span> </span><span id="local-6989586621679781610"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781610"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781610"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-type">EntityIdNaturalKey</span></a></span><span> </span><span id="local-6989586621679781611"><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679781611"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>            </span><span class="annot"><span class="annottext">CompositeDef -&gt; Maybe CompositeDef
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679781611"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><span class="annottext">EntityIdDef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-194"></span><span>            </span><span class="annot"><span class="annottext">Maybe CompositeDef
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Database.Persist.Types.Base.html#entityKeyFields"><span class="hs-identifier hs-type">entityKeyFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-197"></span><span id="entityKeyFields"><span class="annot"><span class="annottext">entityKeyFields :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#entityKeyFields"><span class="hs-identifier hs-var hs-var">entityKeyFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><span class="annottext">EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#entitiesPrimary"><span class="hs-identifier hs-var">entitiesPrimary</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-comment">-- | Returns a 'NonEmpty' list of 'FieldDef' that correspond with the key</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- columns for an 'EntityDef'.</span><span>
</span><span id="line-202"></span><span class="annot"><a href="Database.Persist.Types.Base.html#keyAndEntityFields"><span class="hs-identifier hs-type">keyAndEntityFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-203"></span><span id="keyAndEntityFields"><span class="annot"><span class="annottext">keyAndEntityFields :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#keyAndEntityFields"><span class="hs-identifier hs-var hs-var">keyAndEntityFields</span></a></span></span><span> </span><span id="local-6989586621679781613"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781613"><span class="hs-identifier hs-var">ent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><span class="annottext">EntityIdDef -&gt; [FieldDef] -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#keyWithFields"><span class="hs-identifier hs-var">keyWithFields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781613"><span class="hs-identifier hs-var">ent</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679781615"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621679781615"><span class="annot"><span class="annottext">fields :: [FieldDef]
</span><a href="#local-6989586621679781615"><span class="hs-identifier hs-var hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldDef -&gt; Bool) -&gt; [FieldDef] -&gt; [FieldDef]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-var">isHaskellField</span></a></span><span> </span><span class="annot"><span class="annottext">([FieldDef] -&gt; [FieldDef]) -&gt; [FieldDef] -&gt; [FieldDef]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var">entityFields</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781613"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-comment">-- | Returns a 'NonEmpty' list of 'FieldDef' that correspond with the key</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- columns for an 'EntityDef' including those fields that are marked as</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- 'MigrationOnly' (and therefore only present in the database) or</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- 'SafeToRemove' (and a migration will drop the column if it exists in the</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- database).</span><span>
</span><span id="line-213"></span><span class="hs-comment">--</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- For fields on the Haskell type use 'keyAndEntityFieldsDatabase'</span><span>
</span><span id="line-215"></span><span class="hs-comment">--</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- @since 2.14.6.0</span><span>
</span><span id="line-217"></span><span class="annot"><a href="Database.Persist.Types.Base.html#keyAndEntityFieldsDatabase"><span class="hs-identifier hs-type">keyAndEntityFieldsDatabase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-218"></span><span id="keyAndEntityFieldsDatabase"><span class="annot"><span class="annottext">keyAndEntityFieldsDatabase :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#keyAndEntityFieldsDatabase"><span class="hs-identifier hs-var hs-var">keyAndEntityFieldsDatabase</span></a></span></span><span> </span><span id="local-6989586621679781618"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781618"><span class="hs-identifier hs-var">ent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><span class="annottext">EntityIdDef -&gt; [FieldDef] -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#keyWithFields"><span class="hs-identifier hs-var">keyWithFields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781618"><span class="hs-identifier hs-var">ent</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679781619"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621679781619"><span class="annot"><span class="annottext">fields :: [FieldDef]
</span><a href="#local-6989586621679781619"><span class="hs-identifier hs-var hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var">entityFields</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679781618"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="annot"><a href="Database.Persist.Types.Base.html#keyWithFields"><span class="hs-identifier hs-type">keyWithFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdDef"><span class="hs-identifier hs-type">EntityIdDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-224"></span><span id="keyWithFields"><span class="annot"><span class="annottext">keyWithFields :: EntityIdDef -&gt; [FieldDef] -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#keyWithFields"><span class="hs-identifier hs-var hs-var">keyWithFields</span></a></span></span><span> </span><span id="local-6989586621679781620"><span class="annot"><span class="annottext">EntityIdDef
</span><a href="#local-6989586621679781620"><span class="hs-identifier hs-var">entId</span></a></span></span><span> </span><span id="local-6989586621679781621"><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679781621"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EntityIdDef
</span><a href="#local-6989586621679781620"><span class="hs-identifier hs-var">entId</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdField"><span class="hs-identifier hs-type">EntityIdField</span></a></span><span> </span><span id="local-6989586621679781622"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679781622"><span class="hs-identifier hs-var">fd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-227"></span><span>            </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679781622"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; [FieldDef] -&gt; NonEmpty FieldDef
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">:|</span></span><span> </span><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679781621"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-type">EntityIdNaturalKey</span></a></span><span> </span><span class="annot"><span class="annottext">CompositeDef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-229"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[FieldDef] -&gt; Maybe (NonEmpty FieldDef)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NEL.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679781621"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>                </span><span class="annot"><span class="annottext">Maybe (NonEmpty FieldDef)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-231"></span><span>                    </span><span class="annot"><span class="annottext">[Char] -&gt; NonEmpty FieldDef
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; NonEmpty FieldDef) -&gt; [Char] -&gt; NonEmpty FieldDef
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span>
</span><span id="line-232"></span><span>                        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;persistent internal guarantee failed: entity is &quot;</span></span><span>
</span><span id="line-233"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;defined with an entityId = EntityIdNaturalKey, &quot;</span></span><span>
</span><span id="line-234"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;but somehow doesn't have any entity fields.&quot;</span></span><span>
</span><span id="line-235"></span><span>                        </span><span class="hs-special">]</span><span>
</span><span id="line-236"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781626"><span class="annot"><span class="annottext">NonEmpty FieldDef
</span><a href="#local-6989586621679781626"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-237"></span><span>                    </span><span class="annot"><span class="annottext">NonEmpty FieldDef
</span><a href="#local-6989586621679781626"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-keyword">type</span><span> </span><span id="ExtraLine"><span class="annot"><a href="Database.Persist.Types.Base.html#ExtraLine"><span class="hs-identifier hs-var">ExtraLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-keyword">type</span><span> </span><span id="Attr"><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-var">Attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">-- | Attributes that may be attached to fields that can affect migrations</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- and serialization in backend-specific ways.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- While we endeavor to, we can't forsee all use cases for all backends,</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- and so 'FieldAttr' is extensible through its constructor 'FieldAttrOther'.</span><span>
</span><span id="line-248"></span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- @since 2.11.0.0</span><span>
</span><span id="line-250"></span><span class="hs-keyword">data</span><span> </span><span id="FieldAttr"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-var">FieldAttr</span></a></span></span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="FieldAttrMaybe"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrMaybe"><span class="hs-identifier hs-var">FieldAttrMaybe</span></a></span></span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-comment">-- ^ The 'Maybe' keyword goes after the type. This indicates that the column</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-comment">-- is nullable, and the generated Haskell code will have a @'Maybe'@ type</span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">-- for it.</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-comment">--     name Text Maybe</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrNullable"><span class="hs-identifier hs-var">FieldAttrNullable</span></a></span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-comment">-- ^ This indicates that the column is nullable, but should not have</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-comment">-- a 'Maybe' type. For this to work out, you need to ensure that the</span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-comment">-- 'PersistField' instance for the type in question can support</span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-comment">-- a 'PersistNull' value.</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-comment">-- data What = NoWhat | Hello Text</span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-comment">-- instance PersistField What where</span><span>
</span><span id="line-272"></span><span>    </span><span class="hs-comment">--     fromPersistValue PersistNull =</span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-comment">--         pure NoWhat</span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-comment">--     fromPersistValue pv =</span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-comment">--         Hello &lt;$&gt; fromPersistValue pv</span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-comment">-- instance PersistFieldSql What where</span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-comment">--     sqlType _ = SqlString</span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-comment">--     what What nullable</span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrMigrationOnly"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrMigrationOnly"><span class="hs-identifier hs-var">FieldAttrMigrationOnly</span></a></span></span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-comment">-- ^ This tag means that the column will not be present on the Haskell code,</span><span>
</span><span id="line-285"></span><span>    </span><span class="hs-comment">-- but will not be removed from the database. Useful to deprecate fields in</span><span>
</span><span id="line-286"></span><span>    </span><span class="hs-comment">-- phases.</span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-comment">-- You should set the column to be nullable in the database. Otherwise,</span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-comment">-- inserts won't have values.</span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-comment">--     oldName Text MigrationOnly</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-comment">--     newName Text</span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrSafeToRemove"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrSafeToRemove"><span class="hs-identifier hs-var">FieldAttrSafeToRemove</span></a></span></span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-comment">-- ^ A @SafeToRemove@ attribute is not present on the Haskell datatype, and</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-comment">-- the backend migrations should attempt to drop the column without</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-comment">-- triggering any unsafe migration warnings.</span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-comment">-- Useful after you've used @MigrationOnly@ to remove a column from the</span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-comment">-- database in phases.</span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-comment">--     oldName Text SafeToRemove</span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-comment">--     newName Text</span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrNoreference"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrNoreference"><span class="hs-identifier hs-var">FieldAttrNoreference</span></a></span></span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-comment">-- ^ This attribute indicates that we should not create a foreign key</span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-comment">-- reference from a column. By default, @persistent@ will try and create a</span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-comment">-- foreign key reference for a column if it can determine that the type of</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-comment">-- the column is a @'Key' entity@ or an @EntityId@  and the @Entity@'s name</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">-- was present in 'mkPersist'.</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-comment">-- This is useful if you want to use the explicit foreign key syntax.</span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-comment">-- Post</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-comment">--     title    Text</span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-322"></span><span>    </span><span class="hs-comment">-- Comment</span><span>
</span><span id="line-323"></span><span>    </span><span class="hs-comment">--     postId   PostId      noreference</span><span>
</span><span id="line-324"></span><span>    </span><span class="hs-comment">--     Foreign Post fk_comment_post postId</span><span>
</span><span id="line-325"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrReference"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrReference"><span class="hs-identifier hs-var">FieldAttrReference</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-comment">-- ^ This is set to specify precisely the database table the column refers</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-comment">-- to.</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-comment">-- Post</span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-comment">--     title    Text</span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-334"></span><span>    </span><span class="hs-comment">-- Comment</span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-comment">--     postId   PostId references=&quot;post&quot;</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-comment">-- You should not need this - @persistent@ should be capable of correctly</span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-comment">-- determining the target table's name. If you do need this, please file an</span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-comment">-- issue describing why.</span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrConstraint"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrConstraint"><span class="hs-identifier hs-var">FieldAttrConstraint</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-342"></span><span>    </span><span class="hs-comment">-- ^ Specify a name for the constraint on the foreign key reference for this</span><span>
</span><span id="line-343"></span><span>    </span><span class="hs-comment">-- table.</span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-comment">-- Post</span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-comment">--     title    Text</span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-comment">-- Comment</span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-comment">--     postId   PostId constraint=&quot;my_cool_constraint_name&quot;</span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-352"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrDefault"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrDefault"><span class="hs-identifier hs-var">FieldAttrDefault</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-comment">-- ^ Specify the default value for a column.</span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-comment">--     createdAt    UTCTime     default=&quot;NOW()&quot;</span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-359"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span>    </span><span class="hs-comment">-- Note that a @default=@ attribute does not mean you can omit the value</span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-comment">-- while inserting.</span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrSqltype"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrSqltype"><span class="hs-identifier hs-var">FieldAttrSqltype</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-comment">-- ^ Specify a custom SQL type for the column. Generally, you should define</span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-comment">-- a custom datatype with a custom 'PersistFieldSql' instance instead of</span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-comment">-- using this.</span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-comment">--     uuid     Text    sqltype=&quot;UUID&quot;</span><span>
</span><span id="line-370"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrMaxlen"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrMaxlen"><span class="hs-identifier hs-var">FieldAttrMaxlen</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-comment">-- ^ Set a maximum length for a column. Useful for VARCHAR and indexes.</span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-comment">--     name     Text    maxlen=200</span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-comment">--     UniqueName name</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-380"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrSql"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrSql"><span class="hs-identifier hs-var">FieldAttrSql</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-381"></span><span>    </span><span class="hs-comment">-- ^ Specify the database name of the column.</span><span>
</span><span id="line-382"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-383"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-385"></span><span>    </span><span class="hs-comment">--     blarghle     Int     sql=&quot;b_l_a_r_g_h_l_e&quot;</span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-comment">-- Useful for performing phased migrations, where one column is renamed to</span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-comment">-- another column over time.</span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrOther"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrOther"><span class="hs-identifier hs-var">FieldAttrOther</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ A grab bag of random attributes that were unrecognized by the parser.</span></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781639"><span id="local-6989586621679781656"><span id="local-6989586621679781660"><span class="annot"><span class="annottext">Int -&gt; FieldAttr -&gt; ShowS
[FieldAttr] -&gt; ShowS
FieldAttr -&gt; [Char]
(Int -&gt; FieldAttr -&gt; ShowS)
-&gt; (FieldAttr -&gt; [Char])
-&gt; ([FieldAttr] -&gt; ShowS)
-&gt; Show FieldAttr
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FieldAttr -&gt; ShowS
showsPrec :: Int -&gt; FieldAttr -&gt; ShowS
$cshow :: FieldAttr -&gt; [Char]
show :: FieldAttr -&gt; [Char]
$cshowList :: [FieldAttr] -&gt; ShowS
showList :: [FieldAttr] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781663"><span id="local-6989586621679781673"><span class="annot"><span class="annottext">FieldAttr -&gt; FieldAttr -&gt; Bool
(FieldAttr -&gt; FieldAttr -&gt; Bool)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; Bool) -&gt; Eq FieldAttr
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FieldAttr -&gt; FieldAttr -&gt; Bool
== :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c/= :: FieldAttr -&gt; FieldAttr -&gt; Bool
/= :: FieldAttr -&gt; FieldAttr -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781676"><span id="local-6989586621679781680"><span id="local-6989586621679781683"><span id="local-6989586621679781718"><span class="annot"><span class="annottext">ReadPrec [FieldAttr]
ReadPrec FieldAttr
Int -&gt; ReadS FieldAttr
ReadS [FieldAttr]
(Int -&gt; ReadS FieldAttr)
-&gt; ReadS [FieldAttr]
-&gt; ReadPrec FieldAttr
-&gt; ReadPrec [FieldAttr]
-&gt; Read FieldAttr
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FieldAttr
readsPrec :: Int -&gt; ReadS FieldAttr
$creadList :: ReadS [FieldAttr]
readList :: ReadS [FieldAttr]
$creadPrec :: ReadPrec FieldAttr
readPrec :: ReadPrec FieldAttr
$creadListPrec :: ReadPrec [FieldAttr]
readListPrec :: ReadPrec [FieldAttr]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781723"><span id="local-6989586621679781733"><span id="local-6989586621679781737"><span id="local-6989586621679781740"><span id="local-6989586621679781743"><span id="local-6989586621679781746"><span id="local-6989586621679781749"><span class="annot"><span class="annottext">Eq FieldAttr
Eq FieldAttr =&gt;
(FieldAttr -&gt; FieldAttr -&gt; Ordering)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; Bool)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; Bool)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; Bool)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; Bool)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; FieldAttr)
-&gt; (FieldAttr -&gt; FieldAttr -&gt; FieldAttr)
-&gt; Ord FieldAttr
FieldAttr -&gt; FieldAttr -&gt; Bool
FieldAttr -&gt; FieldAttr -&gt; Ordering
FieldAttr -&gt; FieldAttr -&gt; FieldAttr
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FieldAttr -&gt; FieldAttr -&gt; Ordering
compare :: FieldAttr -&gt; FieldAttr -&gt; Ordering
$c&lt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
&lt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&lt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
&lt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&gt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
&gt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&gt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
&gt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
$cmax :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
max :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
$cmin :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
min :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781752"><span id="local-6989586621679781782"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr)
-&gt; Lift FieldAttr
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-comment">-- | Parse raw field attributes into structured form. Any unrecognized</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- attributes will be preserved, identically as they are encountered,</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- as 'FieldAttrOther' values.</span><span>
</span><span id="line-397"></span><span class="hs-comment">--</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- @since 2.11.0.0</span><span>
</span><span id="line-399"></span><span class="annot"><a href="Database.Persist.Types.Base.html#parseFieldAttrs"><span class="hs-identifier hs-type">parseFieldAttrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-type">FieldAttr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-400"></span><span id="parseFieldAttrs"><span class="annot"><span class="annottext">parseFieldAttrs :: [Text] -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#parseFieldAttrs"><span class="hs-identifier hs-var hs-var">parseFieldAttrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FieldAttr) -&gt; [Text] -&gt; [FieldAttr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; FieldAttr) -&gt; [Text] -&gt; [FieldAttr])
-&gt; (Text -&gt; FieldAttr) -&gt; [Text] -&gt; [FieldAttr]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Maybe&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMaybe"><span class="hs-identifier hs-var">FieldAttrMaybe</span></a></span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;nullable&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrNullable"><span class="hs-identifier hs-var">FieldAttrNullable</span></a></span><span>
</span><span id="line-403"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MigrationOnly&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMigrationOnly"><span class="hs-identifier hs-var">FieldAttrMigrationOnly</span></a></span><span>
</span><span id="line-404"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SafeToRemove&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSafeToRemove"><span class="hs-identifier hs-var">FieldAttrSafeToRemove</span></a></span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;noreference&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrNoreference"><span class="hs-identifier hs-var">FieldAttrNoreference</span></a></span><span>
</span><span id="line-406"></span><span>    </span><span id="local-6989586621679781812"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span></span><span>
</span><span id="line-407"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781813"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781813"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;reference=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrReference"><span class="hs-identifier hs-var">FieldAttrReference</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781813"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-408"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781815"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781815"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;constraint=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrConstraint"><span class="hs-identifier hs-var">FieldAttrConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781815"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-409"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781816"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781816"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;default=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrDefault"><span class="hs-identifier hs-var">FieldAttrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781816"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781817"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781817"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sqltype=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSqltype"><span class="hs-identifier hs-var">FieldAttrSqltype</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781817"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-411"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781818"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781818"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;maxlen=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS Integer
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781818"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-412"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621679781821"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679781821"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781822"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679781822"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; [Char] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679781822"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMaxlen"><span class="hs-identifier hs-var">FieldAttrMaxlen</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679781821"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-413"></span><span>            </span><span class="annot"><span class="annottext">[(Integer, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; FieldAttr
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; FieldAttr) -&gt; [Char] -&gt; FieldAttr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Could not parse maxlen field with value &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span>
</span><span id="line-414"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679781825"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781825"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sql=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-415"></span><span>            </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSql"><span class="hs-identifier hs-var">FieldAttrSql</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781825"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-416"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrOther"><span class="hs-identifier hs-var">FieldAttrOther</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679781812"><span class="hs-identifier hs-var">raw</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- | A 'FieldType' describes a field parsed from the QuasiQuoter and is</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- used to determine the Haskell type in the generated code.</span><span>
</span><span id="line-420"></span><span class="hs-comment">--</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- @name Text@ parses into @FTTypeCon Nothing &quot;Text&quot;@</span><span>
</span><span id="line-422"></span><span class="hs-comment">--</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- @name T.Text@ parses into @FTTypeCon (Just &quot;T&quot; &quot;Text&quot;)@</span><span>
</span><span id="line-424"></span><span class="hs-comment">--</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- @name (Jsonb User)@ parses into:</span><span>
</span><span id="line-426"></span><span class="hs-comment">--</span><span>
</span><span id="line-427"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- FTApp (FTTypeCon Nothing &quot;Jsonb&quot;) (FTTypeCon Nothing &quot;User&quot;)</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-430"></span><span class="hs-keyword">data</span><span> </span><span id="FieldType"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="FTTypeCon"><span class="annot"><a href="Database.Persist.Types.Base.html#FTTypeCon"><span class="hs-identifier hs-var">FTTypeCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Optional module and name.</span></span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTLit"><span class="annot"><a href="Database.Persist.Types.Base.html#FTLit"><span class="hs-identifier hs-var">FTLit</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldTypeLit"><span class="hs-identifier hs-type">FieldTypeLit</span></a></span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTTypePromoted"><span class="annot"><a href="Database.Persist.Types.Base.html#FTTypePromoted"><span class="hs-identifier hs-var">FTTypePromoted</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTApp"><span class="annot"><a href="Database.Persist.Types.Base.html#FTApp"><span class="hs-identifier hs-var">FTApp</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span>
</span><span id="line-436"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTList"><span class="annot"><a href="Database.Persist.Types.Base.html#FTList"><span class="hs-identifier hs-var">FTList</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span>
</span><span id="line-437"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781832"><span id="local-6989586621679781848"><span id="local-6989586621679781851"><span class="annot"><span class="annottext">Int -&gt; FieldType -&gt; ShowS
[FieldType] -&gt; ShowS
FieldType -&gt; [Char]
(Int -&gt; FieldType -&gt; ShowS)
-&gt; (FieldType -&gt; [Char])
-&gt; ([FieldType] -&gt; ShowS)
-&gt; Show FieldType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FieldType -&gt; ShowS
showsPrec :: Int -&gt; FieldType -&gt; ShowS
$cshow :: FieldType -&gt; [Char]
show :: FieldType -&gt; [Char]
$cshowList :: [FieldType] -&gt; ShowS
showList :: [FieldType] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781854"><span id="local-6989586621679781865"><span class="annot"><span class="annottext">FieldType -&gt; FieldType -&gt; Bool
(FieldType -&gt; FieldType -&gt; Bool)
-&gt; (FieldType -&gt; FieldType -&gt; Bool) -&gt; Eq FieldType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FieldType -&gt; FieldType -&gt; Bool
== :: FieldType -&gt; FieldType -&gt; Bool
$c/= :: FieldType -&gt; FieldType -&gt; Bool
/= :: FieldType -&gt; FieldType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781868"><span id="local-6989586621679781872"><span id="local-6989586621679781875"><span id="local-6989586621679781903"><span class="annot"><span class="annottext">ReadPrec [FieldType]
ReadPrec FieldType
Int -&gt; ReadS FieldType
ReadS [FieldType]
(Int -&gt; ReadS FieldType)
-&gt; ReadS [FieldType]
-&gt; ReadPrec FieldType
-&gt; ReadPrec [FieldType]
-&gt; Read FieldType
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FieldType
readsPrec :: Int -&gt; ReadS FieldType
$creadList :: ReadS [FieldType]
readList :: ReadS [FieldType]
$creadPrec :: ReadPrec FieldType
readPrec :: ReadPrec FieldType
$creadListPrec :: ReadPrec [FieldType]
readListPrec :: ReadPrec [FieldType]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781908"><span id="local-6989586621679781920"><span id="local-6989586621679781923"><span id="local-6989586621679781926"><span id="local-6989586621679781929"><span id="local-6989586621679781932"><span id="local-6989586621679781935"><span class="annot"><span class="annottext">Eq FieldType
Eq FieldType =&gt;
(FieldType -&gt; FieldType -&gt; Ordering)
-&gt; (FieldType -&gt; FieldType -&gt; Bool)
-&gt; (FieldType -&gt; FieldType -&gt; Bool)
-&gt; (FieldType -&gt; FieldType -&gt; Bool)
-&gt; (FieldType -&gt; FieldType -&gt; Bool)
-&gt; (FieldType -&gt; FieldType -&gt; FieldType)
-&gt; (FieldType -&gt; FieldType -&gt; FieldType)
-&gt; Ord FieldType
FieldType -&gt; FieldType -&gt; Bool
FieldType -&gt; FieldType -&gt; Ordering
FieldType -&gt; FieldType -&gt; FieldType
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FieldType -&gt; FieldType -&gt; Ordering
compare :: FieldType -&gt; FieldType -&gt; Ordering
$c&lt; :: FieldType -&gt; FieldType -&gt; Bool
&lt; :: FieldType -&gt; FieldType -&gt; Bool
$c&lt;= :: FieldType -&gt; FieldType -&gt; Bool
&lt;= :: FieldType -&gt; FieldType -&gt; Bool
$c&gt; :: FieldType -&gt; FieldType -&gt; Bool
&gt; :: FieldType -&gt; FieldType -&gt; Bool
$c&gt;= :: FieldType -&gt; FieldType -&gt; Bool
&gt;= :: FieldType -&gt; FieldType -&gt; Bool
$cmax :: FieldType -&gt; FieldType -&gt; FieldType
max :: FieldType -&gt; FieldType -&gt; FieldType
$cmin :: FieldType -&gt; FieldType -&gt; FieldType
min :: FieldType -&gt; FieldType -&gt; FieldType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781938"><span id="local-6989586621679781962"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType)
-&gt; Lift FieldType
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-keyword">data</span><span> </span><span id="FieldTypeLit"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldTypeLit"><span class="hs-identifier hs-var">FieldTypeLit</span></a></span></span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="IntTypeLit"><span class="annot"><a href="Database.Persist.Types.Base.html#IntTypeLit"><span class="hs-identifier hs-var">IntTypeLit</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-441"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TextTypeLit"><span class="annot"><a href="Database.Persist.Types.Base.html#TextTypeLit"><span class="hs-identifier hs-var">TextTypeLit</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679781987"><span id="local-6989586621679781993"><span id="local-6989586621679781996"><span class="annot"><span class="annottext">Int -&gt; FieldTypeLit -&gt; ShowS
[FieldTypeLit] -&gt; ShowS
FieldTypeLit -&gt; [Char]
(Int -&gt; FieldTypeLit -&gt; ShowS)
-&gt; (FieldTypeLit -&gt; [Char])
-&gt; ([FieldTypeLit] -&gt; ShowS)
-&gt; Show FieldTypeLit
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FieldTypeLit -&gt; ShowS
showsPrec :: Int -&gt; FieldTypeLit -&gt; ShowS
$cshow :: FieldTypeLit -&gt; [Char]
show :: FieldTypeLit -&gt; [Char]
$cshowList :: [FieldTypeLit] -&gt; ShowS
showList :: [FieldTypeLit] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679781999"><span id="local-6989586621679782003"><span class="annot"><span class="annottext">FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
(FieldTypeLit -&gt; FieldTypeLit -&gt; Bool)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; Bool) -&gt; Eq FieldTypeLit
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
== :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
$c/= :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
/= :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782006"><span id="local-6989586621679782009"><span id="local-6989586621679782012"><span id="local-6989586621679782022"><span class="annot"><span class="annottext">ReadPrec [FieldTypeLit]
ReadPrec FieldTypeLit
Int -&gt; ReadS FieldTypeLit
ReadS [FieldTypeLit]
(Int -&gt; ReadS FieldTypeLit)
-&gt; ReadS [FieldTypeLit]
-&gt; ReadPrec FieldTypeLit
-&gt; ReadPrec [FieldTypeLit]
-&gt; Read FieldTypeLit
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FieldTypeLit
readsPrec :: Int -&gt; ReadS FieldTypeLit
$creadList :: ReadS [FieldTypeLit]
readList :: ReadS [FieldTypeLit]
$creadPrec :: ReadPrec FieldTypeLit
readPrec :: ReadPrec FieldTypeLit
$creadListPrec :: ReadPrec [FieldTypeLit]
readListPrec :: ReadPrec [FieldTypeLit]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782027"><span id="local-6989586621679782031"><span id="local-6989586621679782035"><span id="local-6989586621679782038"><span id="local-6989586621679782041"><span id="local-6989586621679782044"><span id="local-6989586621679782047"><span class="annot"><span class="annottext">Eq FieldTypeLit
Eq FieldTypeLit =&gt;
(FieldTypeLit -&gt; FieldTypeLit -&gt; Ordering)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; Bool)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; Bool)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; Bool)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; Bool)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit)
-&gt; (FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit)
-&gt; Ord FieldTypeLit
FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
FieldTypeLit -&gt; FieldTypeLit -&gt; Ordering
FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FieldTypeLit -&gt; FieldTypeLit -&gt; Ordering
compare :: FieldTypeLit -&gt; FieldTypeLit -&gt; Ordering
$c&lt; :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
&lt; :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
$c&lt;= :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
&lt;= :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
$c&gt; :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
&gt; :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
$c&gt;= :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
&gt;= :: FieldTypeLit -&gt; FieldTypeLit -&gt; Bool
$cmax :: FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit
max :: FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit
$cmin :: FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit
min :: FieldTypeLit -&gt; FieldTypeLit -&gt; FieldTypeLit
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782050"><span id="local-6989586621679782059"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; FieldTypeLit -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    FieldTypeLit -&gt; Code m FieldTypeLit)
-&gt; Lift FieldTypeLit
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldTypeLit -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
FieldTypeLit -&gt; Code m FieldTypeLit
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldTypeLit -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldTypeLit -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
FieldTypeLit -&gt; Code m FieldTypeLit
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
FieldTypeLit -&gt; Code m FieldTypeLit
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="annot"><a href="Database.Persist.Types.Base.html#isFieldNotGenerated"><span class="hs-identifier hs-type">isFieldNotGenerated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-445"></span><span id="isFieldNotGenerated"><span class="annot"><span class="annottext">isFieldNotGenerated :: FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isFieldNotGenerated"><span class="hs-identifier hs-var hs-var">isFieldNotGenerated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Text -&gt; Bool)
-&gt; (FieldDef -&gt; Maybe Text) -&gt; FieldDef -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#fieldGenerated"><span class="hs-identifier hs-var">fieldGenerated</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="hs-comment">-- | There are 3 kinds of references</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- 1) composite (to fields that exist in the record)</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- 2) single field</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- 3) embedded</span><span>
</span><span id="line-451"></span><span class="hs-keyword">data</span><span> </span><span id="ReferenceDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ReferenceDef"><span class="hs-identifier hs-var">ReferenceDef</span></a></span></span><span>
</span><span id="line-452"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="NoReference"><span class="annot"><a href="Database.Persist.Types.Base.html#NoReference"><span class="hs-identifier hs-var">NoReference</span></a></span></span><span>
</span><span id="line-453"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ForeignRef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignRef"><span class="hs-identifier hs-var">ForeignRef</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-454"></span><span>    </span><span class="hs-comment">-- ^ A ForeignRef has a late binding to the EntityDef it references via name</span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-comment">-- and has the Haskell type of the foreign key in the form of FieldType</span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="EmbedRef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedRef"><span class="hs-identifier hs-var">EmbedRef</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SelfReference"><span class="annot"><a href="Database.Persist.Types.Base.html#SelfReference"><span class="hs-identifier hs-var">SelfReference</span></a></span></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ A SelfReference stops an immediate cycle which causes non-termination at compile-time (issue #311).</span></span><span>
</span><span id="line-459"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782075"><span id="local-6989586621679782081"><span id="local-6989586621679782085"><span class="annot"><span class="annottext">Int -&gt; ReferenceDef -&gt; ShowS
[ReferenceDef] -&gt; ShowS
ReferenceDef -&gt; [Char]
(Int -&gt; ReferenceDef -&gt; ShowS)
-&gt; (ReferenceDef -&gt; [Char])
-&gt; ([ReferenceDef] -&gt; ShowS)
-&gt; Show ReferenceDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ReferenceDef -&gt; ShowS
showsPrec :: Int -&gt; ReferenceDef -&gt; ShowS
$cshow :: ReferenceDef -&gt; [Char]
show :: ReferenceDef -&gt; [Char]
$cshowList :: [ReferenceDef] -&gt; ShowS
showList :: [ReferenceDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782088"><span id="local-6989586621679782092"><span class="annot"><span class="annottext">ReferenceDef -&gt; ReferenceDef -&gt; Bool
(ReferenceDef -&gt; ReferenceDef -&gt; Bool)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; Bool) -&gt; Eq ReferenceDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
== :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c/= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
/= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782096"><span id="local-6989586621679782100"><span id="local-6989586621679782103"><span id="local-6989586621679782115"><span class="annot"><span class="annottext">ReadPrec [ReferenceDef]
ReadPrec ReferenceDef
Int -&gt; ReadS ReferenceDef
ReadS [ReferenceDef]
(Int -&gt; ReadS ReferenceDef)
-&gt; ReadS [ReferenceDef]
-&gt; ReadPrec ReferenceDef
-&gt; ReadPrec [ReferenceDef]
-&gt; Read ReferenceDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS ReferenceDef
readsPrec :: Int -&gt; ReadS ReferenceDef
$creadList :: ReadS [ReferenceDef]
readList :: ReadS [ReferenceDef]
$creadPrec :: ReadPrec ReferenceDef
readPrec :: ReadPrec ReferenceDef
$creadListPrec :: ReadPrec [ReferenceDef]
readListPrec :: ReadPrec [ReferenceDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782120"><span id="local-6989586621679782124"><span id="local-6989586621679782128"><span id="local-6989586621679782131"><span id="local-6989586621679782134"><span id="local-6989586621679782137"><span id="local-6989586621679782140"><span class="annot"><span class="annottext">Eq ReferenceDef
Eq ReferenceDef =&gt;
(ReferenceDef -&gt; ReferenceDef -&gt; Ordering)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; Bool)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; Bool)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; Bool)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; Bool)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef)
-&gt; (ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef)
-&gt; Ord ReferenceDef
ReferenceDef -&gt; ReferenceDef -&gt; Bool
ReferenceDef -&gt; ReferenceDef -&gt; Ordering
ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: ReferenceDef -&gt; ReferenceDef -&gt; Ordering
compare :: ReferenceDef -&gt; ReferenceDef -&gt; Ordering
$c&lt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&lt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&lt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&lt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&gt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&gt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&gt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&gt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$cmax :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
max :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
$cmin :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
min :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782143"><span id="local-6989586621679782154"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    ReferenceDef -&gt; Code m ReferenceDef)
-&gt; Lift ReferenceDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
ReferenceDef -&gt; Code m ReferenceDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
ReferenceDef -&gt; Code m ReferenceDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
ReferenceDef -&gt; Code m ReferenceDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-comment">-- | An EmbedEntityDef is the same as an EntityDef</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- But it is only used for fieldReference</span><span>
</span><span id="line-463"></span><span class="hs-comment">-- so it only has data needed for embedding</span><span>
</span><span id="line-464"></span><span class="hs-keyword">data</span><span> </span><span id="EmbedEntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-var">EmbedEntityDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EmbedEntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-var">EmbedEntityDef</span></a></span></span><span>
</span><span id="line-465"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="embeddedHaskell"><span class="annot"><span class="annottext">EmbedEntityDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#embeddedHaskell"><span class="hs-identifier hs-var hs-var">embeddedHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="embeddedFields"><span class="annot"><span class="annottext">EmbedEntityDef -&gt; [EmbedFieldDef]
</span><a href="Database.Persist.Types.Base.html#embeddedFields"><span class="hs-identifier hs-var hs-var">embeddedFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-type">EmbedFieldDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-467"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782169"><span id="local-6989586621679782175"><span id="local-6989586621679782179"><span class="annot"><span class="annottext">Int -&gt; EmbedEntityDef -&gt; ShowS
[EmbedEntityDef] -&gt; ShowS
EmbedEntityDef -&gt; [Char]
(Int -&gt; EmbedEntityDef -&gt; ShowS)
-&gt; (EmbedEntityDef -&gt; [Char])
-&gt; ([EmbedEntityDef] -&gt; ShowS)
-&gt; Show EmbedEntityDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; EmbedEntityDef -&gt; ShowS
showsPrec :: Int -&gt; EmbedEntityDef -&gt; ShowS
$cshow :: EmbedEntityDef -&gt; [Char]
show :: EmbedEntityDef -&gt; [Char]
$cshowList :: [EmbedEntityDef] -&gt; ShowS
showList :: [EmbedEntityDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782183"><span id="local-6989586621679782188"><span class="annot"><span class="annottext">EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
(EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool) -&gt; Eq EmbedEntityDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
== :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c/= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
/= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782193"><span id="local-6989586621679782197"><span id="local-6989586621679782200"><span id="local-6989586621679782212"><span class="annot"><span class="annottext">ReadPrec [EmbedEntityDef]
ReadPrec EmbedEntityDef
Int -&gt; ReadS EmbedEntityDef
ReadS [EmbedEntityDef]
(Int -&gt; ReadS EmbedEntityDef)
-&gt; ReadS [EmbedEntityDef]
-&gt; ReadPrec EmbedEntityDef
-&gt; ReadPrec [EmbedEntityDef]
-&gt; Read EmbedEntityDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS EmbedEntityDef
readsPrec :: Int -&gt; ReadS EmbedEntityDef
$creadList :: ReadS [EmbedEntityDef]
readList :: ReadS [EmbedEntityDef]
$creadPrec :: ReadPrec EmbedEntityDef
readPrec :: ReadPrec EmbedEntityDef
$creadListPrec :: ReadPrec [EmbedEntityDef]
readListPrec :: ReadPrec [EmbedEntityDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782218"><span id="local-6989586621679782223"><span id="local-6989586621679782228"><span id="local-6989586621679782232"><span id="local-6989586621679782235"><span id="local-6989586621679782238"><span id="local-6989586621679782241"><span class="annot"><span class="annottext">Eq EmbedEntityDef
Eq EmbedEntityDef =&gt;
(EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef)
-&gt; (EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef)
-&gt; Ord EmbedEntityDef
EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering
EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering
compare :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering
$c&lt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&lt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&lt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&lt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&gt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&gt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&gt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&gt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$cmax :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
max :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
$cmin :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
min :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782245"><span id="local-6989586621679782254"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    EmbedEntityDef -&gt; Code m EmbedEntityDef)
-&gt; Lift EmbedEntityDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
EmbedEntityDef -&gt; Code m EmbedEntityDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedEntityDef -&gt; Code m EmbedEntityDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedEntityDef -&gt; Code m EmbedEntityDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-comment">-- | An EmbedFieldDef is the same as a FieldDef</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- But it is only used for embeddedFields</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- so it only has data needed for embedding</span><span>
</span><span id="line-472"></span><span class="hs-keyword">data</span><span> </span><span id="EmbedFieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-var">EmbedFieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EmbedFieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-var">EmbedFieldDef</span></a></span></span><span>
</span><span id="line-473"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="emFieldDB"><span class="annot"><span class="annottext">EmbedFieldDef -&gt; FieldNameDB
</span><a href="Database.Persist.Types.Base.html#emFieldDB"><span class="hs-identifier hs-var hs-var">emFieldDB</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span>
</span><span id="line-474"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="emFieldEmbed"><span class="annot"><span class="annottext">EmbedFieldDef -&gt; Maybe (Either SelfEmbed EntityNameHS)
</span><a href="Database.Persist.Types.Base.html#emFieldEmbed"><span class="hs-identifier hs-var hs-var">emFieldEmbed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-type">SelfEmbed</span></a></span><span> </span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-476"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782268"><span id="local-6989586621679782275"><span id="local-6989586621679782278"><span class="annot"><span class="annottext">Int -&gt; EmbedFieldDef -&gt; ShowS
[EmbedFieldDef] -&gt; ShowS
EmbedFieldDef -&gt; [Char]
(Int -&gt; EmbedFieldDef -&gt; ShowS)
-&gt; (EmbedFieldDef -&gt; [Char])
-&gt; ([EmbedFieldDef] -&gt; ShowS)
-&gt; Show EmbedFieldDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; EmbedFieldDef -&gt; ShowS
showsPrec :: Int -&gt; EmbedFieldDef -&gt; ShowS
$cshow :: EmbedFieldDef -&gt; [Char]
show :: EmbedFieldDef -&gt; [Char]
$cshowList :: [EmbedFieldDef] -&gt; ShowS
showList :: [EmbedFieldDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782285"><span id="local-6989586621679782291"><span class="annot"><span class="annottext">EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
(EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool) -&gt; Eq EmbedFieldDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
== :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c/= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
/= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782298"><span id="local-6989586621679782301"><span id="local-6989586621679782304"><span id="local-6989586621679782317"><span class="annot"><span class="annottext">ReadPrec [EmbedFieldDef]
ReadPrec EmbedFieldDef
Int -&gt; ReadS EmbedFieldDef
ReadS [EmbedFieldDef]
(Int -&gt; ReadS EmbedFieldDef)
-&gt; ReadS [EmbedFieldDef]
-&gt; ReadPrec EmbedFieldDef
-&gt; ReadPrec [EmbedFieldDef]
-&gt; Read EmbedFieldDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS EmbedFieldDef
readsPrec :: Int -&gt; ReadS EmbedFieldDef
$creadList :: ReadS [EmbedFieldDef]
readList :: ReadS [EmbedFieldDef]
$creadPrec :: ReadPrec EmbedFieldDef
readPrec :: ReadPrec EmbedFieldDef
$creadListPrec :: ReadPrec [EmbedFieldDef]
readListPrec :: ReadPrec [EmbedFieldDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782326"><span id="local-6989586621679782332"><span id="local-6989586621679782337"><span id="local-6989586621679782340"><span id="local-6989586621679782343"><span id="local-6989586621679782346"><span id="local-6989586621679782349"><span class="annot"><span class="annottext">Eq EmbedFieldDef
Eq EmbedFieldDef =&gt;
(EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef)
-&gt; (EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef)
-&gt; Ord EmbedFieldDef
EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering
EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering
compare :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering
$c&lt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&lt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&lt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&lt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&gt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&gt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&gt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&gt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$cmax :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
max :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
$cmin :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
min :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782358"><span id="local-6989586621679782368"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    EmbedFieldDef -&gt; Code m EmbedFieldDef)
-&gt; Lift EmbedFieldDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
EmbedFieldDef -&gt; Code m EmbedFieldDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedFieldDef -&gt; Code m EmbedFieldDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedFieldDef -&gt; Code m EmbedFieldDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="hs-keyword">data</span><span> </span><span id="SelfEmbed"><span class="annot"><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-var">SelfEmbed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SelfEmbed"><span class="annot"><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-var">SelfEmbed</span></a></span></span><span>
</span><span id="line-479"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782384"><span id="local-6989586621679782386"><span id="local-6989586621679782389"><span class="annot"><span class="annottext">Int -&gt; SelfEmbed -&gt; ShowS
[SelfEmbed] -&gt; ShowS
SelfEmbed -&gt; [Char]
(Int -&gt; SelfEmbed -&gt; ShowS)
-&gt; (SelfEmbed -&gt; [Char])
-&gt; ([SelfEmbed] -&gt; ShowS)
-&gt; Show SelfEmbed
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SelfEmbed -&gt; ShowS
showsPrec :: Int -&gt; SelfEmbed -&gt; ShowS
$cshow :: SelfEmbed -&gt; [Char]
show :: SelfEmbed -&gt; [Char]
$cshowList :: [SelfEmbed] -&gt; ShowS
showList :: [SelfEmbed] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782392"><span id="local-6989586621679782394"><span class="annot"><span class="annottext">SelfEmbed -&gt; SelfEmbed -&gt; Bool
(SelfEmbed -&gt; SelfEmbed -&gt; Bool)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; Bool) -&gt; Eq SelfEmbed
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
== :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c/= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
/= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782397"><span id="local-6989586621679782400"><span id="local-6989586621679782403"><span id="local-6989586621679782407"><span class="annot"><span class="annottext">ReadPrec [SelfEmbed]
ReadPrec SelfEmbed
Int -&gt; ReadS SelfEmbed
ReadS [SelfEmbed]
(Int -&gt; ReadS SelfEmbed)
-&gt; ReadS [SelfEmbed]
-&gt; ReadPrec SelfEmbed
-&gt; ReadPrec [SelfEmbed]
-&gt; Read SelfEmbed
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS SelfEmbed
readsPrec :: Int -&gt; ReadS SelfEmbed
$creadList :: ReadS [SelfEmbed]
readList :: ReadS [SelfEmbed]
$creadPrec :: ReadPrec SelfEmbed
readPrec :: ReadPrec SelfEmbed
$creadListPrec :: ReadPrec [SelfEmbed]
readListPrec :: ReadPrec [SelfEmbed]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782412"><span id="local-6989586621679782414"><span id="local-6989586621679782416"><span id="local-6989586621679782419"><span id="local-6989586621679782422"><span id="local-6989586621679782425"><span id="local-6989586621679782428"><span class="annot"><span class="annottext">Eq SelfEmbed
Eq SelfEmbed =&gt;
(SelfEmbed -&gt; SelfEmbed -&gt; Ordering)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; Bool)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; Bool)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; Bool)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; Bool)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed)
-&gt; (SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed)
-&gt; Ord SelfEmbed
SelfEmbed -&gt; SelfEmbed -&gt; Bool
SelfEmbed -&gt; SelfEmbed -&gt; Ordering
SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: SelfEmbed -&gt; SelfEmbed -&gt; Ordering
compare :: SelfEmbed -&gt; SelfEmbed -&gt; Ordering
$c&lt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&lt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&lt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&lt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&gt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&gt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&gt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&gt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$cmax :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
max :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
$cmin :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
min :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782431"><span id="local-6989586621679782435"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed)
-&gt; Lift SelfEmbed
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed
$clift :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span class="hs-comment">-- | Returns 'True' if the 'FieldDef' does not have a 'MigrationOnly' or</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- 'SafeToRemove' flag from the QuasiQuoter.</span><span>
</span><span id="line-483"></span><span class="hs-comment">--</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-485"></span><span class="annot"><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-type">isHaskellField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-486"></span><span id="isHaskellField"><span class="annot"><span class="annottext">isHaskellField :: FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-var hs-var">isHaskellField</span></a></span></span><span> </span><span id="local-6989586621679782438"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679782438"><span class="hs-identifier hs-var">fd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-487"></span><span>    </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMigrationOnly"><span class="hs-identifier hs-var">FieldAttrMigrationOnly</span></a></span><span> </span><span class="annot"><span class="annottext">FieldAttr -&gt; [FieldAttr] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#fieldAttrs"><span class="hs-identifier hs-var">fieldAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679782438"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-488"></span><span>    </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSafeToRemove"><span class="hs-identifier hs-var">FieldAttrSafeToRemove</span></a></span><span> </span><span class="annot"><span class="annottext">FieldAttr -&gt; [FieldAttr] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#fieldAttrs"><span class="hs-identifier hs-var">fieldAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679782438"><span class="hs-identifier hs-var">fd</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="annot"><a href="Database.Persist.Types.Base.html#toEmbedEntityDef"><span class="hs-identifier hs-type">toEmbedEntityDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-type">EmbedEntityDef</span></a></span><span>
</span><span id="line-491"></span><span id="toEmbedEntityDef"><span class="annot"><span class="annottext">toEmbedEntityDef :: EntityDef -&gt; EmbedEntityDef
</span><a href="Database.Persist.Types.Base.html#toEmbedEntityDef"><span class="hs-identifier hs-var hs-var">toEmbedEntityDef</span></a></span></span><span> </span><span id="local-6989586621679782443"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679782443"><span class="hs-identifier hs-var">ent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EmbedEntityDef
</span><a href="#local-6989586621679782444"><span class="hs-identifier hs-var">embDef</span></a></span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-493"></span><span>    </span><span id="local-6989586621679782444"><span class="annot"><span class="annottext">embDef :: EmbedEntityDef
</span><a href="#local-6989586621679782444"><span class="hs-identifier hs-var hs-var">embDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-type">EmbedEntityDef</span></a></span><span>
</span><span id="line-494"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">embeddedHaskell :: EntityNameHS
</span><a href="Database.Persist.Types.Base.html#embeddedHaskell"><span class="hs-identifier hs-var">embeddedHaskell</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#entityHaskell"><span class="hs-identifier hs-var">entityHaskell</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679782443"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-495"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">embeddedFields :: [EmbedFieldDef]
</span><a href="Database.Persist.Types.Base.html#embeddedFields"><span class="hs-identifier hs-var">embeddedFields</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-496"></span><span>            </span><span class="annot"><span class="annottext">(FieldDef -&gt; EmbedFieldDef) -&gt; [FieldDef] -&gt; [EmbedFieldDef]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; EmbedFieldDef
</span><a href="#local-6989586621679782445"><span class="hs-identifier hs-var">toEmbedFieldDef</span></a></span><span>
</span><span id="line-497"></span><span>            </span><span class="annot"><span class="annottext">([FieldDef] -&gt; [EmbedFieldDef]) -&gt; [FieldDef] -&gt; [EmbedFieldDef]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FieldDef -&gt; Bool) -&gt; [FieldDef] -&gt; [FieldDef]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-var">isHaskellField</span></a></span><span>
</span><span id="line-498"></span><span>            </span><span class="annot"><span class="annottext">([FieldDef] -&gt; [FieldDef]) -&gt; [FieldDef] -&gt; [FieldDef]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var">entityFields</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679782443"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-499"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-500"></span><span>    </span><span class="annot"><a href="#local-6989586621679782445"><span class="hs-identifier hs-type">toEmbedFieldDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-type">EmbedFieldDef</span></a></span><span>
</span><span id="line-501"></span><span>    </span><span id="local-6989586621679782445"><span class="annot"><span class="annottext">toEmbedFieldDef :: FieldDef -&gt; EmbedFieldDef
</span><a href="#local-6989586621679782445"><span class="hs-identifier hs-var hs-var">toEmbedFieldDef</span></a></span></span><span> </span><span id="local-6989586621679782446"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679782446"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-502"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-type">EmbedFieldDef</span></a></span><span>
</span><span id="line-503"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">emFieldDB :: FieldNameDB
</span><a href="Database.Persist.Types.Base.html#emFieldDB"><span class="hs-identifier hs-var">emFieldDB</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-504"></span><span>                </span><span class="annot"><span class="annottext">FieldDef -&gt; FieldNameDB
</span><a href="Database.Persist.Types.Base.html#fieldDB"><span class="hs-identifier hs-var">fieldDB</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679782446"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-505"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">emFieldEmbed :: Maybe (Either SelfEmbed EntityNameHS)
</span><a href="Database.Persist.Types.Base.html#emFieldEmbed"><span class="hs-identifier hs-var">emFieldEmbed</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-506"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; ReferenceDef
</span><a href="Database.Persist.Types.Base.html#fieldReference"><span class="hs-identifier hs-var">fieldReference</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679782446"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-507"></span><span>                    </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedRef"><span class="hs-identifier hs-type">EmbedRef</span></a></span><span> </span><span id="local-6989586621679782449"><span class="annot"><span class="annottext">EntityNameHS
</span><a href="#local-6989586621679782449"><span class="hs-identifier hs-var">em</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-508"></span><span>                        </span><span class="annot"><span class="annottext">Either SelfEmbed EntityNameHS
-&gt; Maybe (Either SelfEmbed EntityNameHS)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Either SelfEmbed EntityNameHS
 -&gt; Maybe (Either SelfEmbed EntityNameHS))
-&gt; Either SelfEmbed EntityNameHS
-&gt; Maybe (Either SelfEmbed EntityNameHS)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EntityNameHS -&gt; Either SelfEmbed EntityNameHS
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">EntityNameHS
</span><a href="#local-6989586621679782449"><span class="hs-identifier hs-var">em</span></a></span><span>
</span><span id="line-509"></span><span>                    </span><span class="annot"><span class="annottext">ReferenceDef
</span><a href="Database.Persist.Types.Base.html#SelfReference"><span class="hs-identifier hs-var">SelfReference</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either SelfEmbed EntityNameHS
-&gt; Maybe (Either SelfEmbed EntityNameHS)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Either SelfEmbed EntityNameHS
 -&gt; Maybe (Either SelfEmbed EntityNameHS))
-&gt; Either SelfEmbed EntityNameHS
-&gt; Maybe (Either SelfEmbed EntityNameHS)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SelfEmbed -&gt; Either SelfEmbed EntityNameHS
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">SelfEmbed
</span><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-var">SelfEmbed</span></a></span><span>
</span><span id="line-510"></span><span>                    </span><span class="annot"><span class="annottext">ReferenceDef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Either SelfEmbed EntityNameHS)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-511"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span class="hs-comment">-- | Type for storing the Uniqueness constraint in the Schema.  Assume you have</span><span>
</span><span id="line-514"></span><span class="hs-comment">-- the following schema with a uniqueness constraint:</span><span>
</span><span id="line-515"></span><span class="hs-comment">--</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-517"></span><span class="hs-comment">-- Person</span><span>
</span><span id="line-518"></span><span class="hs-comment">--   name String</span><span>
</span><span id="line-519"></span><span class="hs-comment">--   age Int</span><span>
</span><span id="line-520"></span><span class="hs-comment">--   UniqueAge age</span><span>
</span><span id="line-521"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-522"></span><span class="hs-comment">--</span><span>
</span><span id="line-523"></span><span class="hs-comment">-- This will be represented as:</span><span>
</span><span id="line-524"></span><span class="hs-comment">--</span><span>
</span><span id="line-525"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-526"></span><span class="hs-comment">-- UniqueDef</span><span>
</span><span id="line-527"></span><span class="hs-comment">--     { uniqueHaskell = ConstraintNameHS (packPTH &quot;UniqueAge&quot;)</span><span>
</span><span id="line-528"></span><span class="hs-comment">--     , uniqueDBName = ConstraintNameDB (packPTH &quot;unique_age&quot;)</span><span>
</span><span id="line-529"></span><span class="hs-comment">--     , uniqueFields = [(FieldNameHS (packPTH &quot;age&quot;), FieldNameDB (packPTH &quot;age&quot;))]</span><span>
</span><span id="line-530"></span><span class="hs-comment">--     , uniqueAttrs = []</span><span>
</span><span id="line-531"></span><span class="hs-comment">--     }</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-533"></span><span class="hs-comment">--</span><span>
</span><span id="line-534"></span><span class="hs-keyword">data</span><span> </span><span id="UniqueDef"><span class="annot"><a href="Database.Persist.Types.Base.html#UniqueDef"><span class="hs-identifier hs-var">UniqueDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UniqueDef"><span class="annot"><a href="Database.Persist.Types.Base.html#UniqueDef"><span class="hs-identifier hs-var">UniqueDef</span></a></span></span><span>
</span><span id="line-535"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="uniqueHaskell"><span class="annot"><span class="annottext">UniqueDef -&gt; ConstraintNameHS
</span><a href="Database.Persist.Types.Base.html#uniqueHaskell"><span class="hs-identifier hs-var hs-var">uniqueHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameHS"><span class="hs-identifier hs-type">ConstraintNameHS</span></a></span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="uniqueDBName"><span class="annot"><span class="annottext">UniqueDef -&gt; ConstraintNameDB
</span><a href="Database.Persist.Types.Base.html#uniqueDBName"><span class="hs-identifier hs-var hs-var">uniqueDBName</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameDB"><span class="hs-identifier hs-type">ConstraintNameDB</span></a></span><span>
</span><span id="line-537"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="uniqueFields"><span class="annot"><span class="annottext">UniqueDef -&gt; NonEmpty (FieldNameHS, FieldNameDB)
</span><a href="Database.Persist.Types.Base.html#uniqueFields"><span class="hs-identifier hs-var hs-var">uniqueFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameHS"><span class="hs-identifier hs-type">FieldNameHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="uniqueAttrs"><span class="annot"><span class="annottext">UniqueDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#uniqueAttrs"><span class="hs-identifier hs-var hs-var">uniqueAttrs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-539"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-540"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782456"><span id="local-6989586621679782467"><span id="local-6989586621679782470"><span class="annot"><span class="annottext">Int -&gt; UniqueDef -&gt; ShowS
[UniqueDef] -&gt; ShowS
UniqueDef -&gt; [Char]
(Int -&gt; UniqueDef -&gt; ShowS)
-&gt; (UniqueDef -&gt; [Char])
-&gt; ([UniqueDef] -&gt; ShowS)
-&gt; Show UniqueDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UniqueDef -&gt; ShowS
showsPrec :: Int -&gt; UniqueDef -&gt; ShowS
$cshow :: UniqueDef -&gt; [Char]
show :: UniqueDef -&gt; [Char]
$cshowList :: [UniqueDef] -&gt; ShowS
showList :: [UniqueDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782477"><span id="local-6989586621679782487"><span class="annot"><span class="annottext">UniqueDef -&gt; UniqueDef -&gt; Bool
(UniqueDef -&gt; UniqueDef -&gt; Bool)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; Bool) -&gt; Eq UniqueDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: UniqueDef -&gt; UniqueDef -&gt; Bool
== :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c/= :: UniqueDef -&gt; UniqueDef -&gt; Bool
/= :: UniqueDef -&gt; UniqueDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782494"><span id="local-6989586621679782497"><span id="local-6989586621679782500"><span id="local-6989586621679782522"><span class="annot"><span class="annottext">ReadPrec [UniqueDef]
ReadPrec UniqueDef
Int -&gt; ReadS UniqueDef
ReadS [UniqueDef]
(Int -&gt; ReadS UniqueDef)
-&gt; ReadS [UniqueDef]
-&gt; ReadPrec UniqueDef
-&gt; ReadPrec [UniqueDef]
-&gt; Read UniqueDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS UniqueDef
readsPrec :: Int -&gt; ReadS UniqueDef
$creadList :: ReadS [UniqueDef]
readList :: ReadS [UniqueDef]
$creadPrec :: ReadPrec UniqueDef
readPrec :: ReadPrec UniqueDef
$creadListPrec :: ReadPrec [UniqueDef]
readListPrec :: ReadPrec [UniqueDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782531"><span id="local-6989586621679782542"><span id="local-6989586621679782550"><span id="local-6989586621679782553"><span id="local-6989586621679782556"><span id="local-6989586621679782559"><span id="local-6989586621679782562"><span class="annot"><span class="annottext">Eq UniqueDef
Eq UniqueDef =&gt;
(UniqueDef -&gt; UniqueDef -&gt; Ordering)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; Bool)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; Bool)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; Bool)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; Bool)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; UniqueDef)
-&gt; (UniqueDef -&gt; UniqueDef -&gt; UniqueDef)
-&gt; Ord UniqueDef
UniqueDef -&gt; UniqueDef -&gt; Bool
UniqueDef -&gt; UniqueDef -&gt; Ordering
UniqueDef -&gt; UniqueDef -&gt; UniqueDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: UniqueDef -&gt; UniqueDef -&gt; Ordering
compare :: UniqueDef -&gt; UniqueDef -&gt; Ordering
$c&lt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
&lt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&lt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
&lt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&gt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
&gt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&gt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
&gt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
$cmax :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
max :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
$cmin :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
min :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782571"><span id="local-6989586621679782588"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef)
-&gt; Lift UniqueDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span class="hs-keyword">data</span><span> </span><span id="CompositeDef"><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-var">CompositeDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CompositeDef"><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-var">CompositeDef</span></a></span></span><span>
</span><span id="line-543"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="compositeFields"><span class="annot"><span class="annottext">CompositeDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#compositeFields"><span class="hs-identifier hs-var hs-var">compositeFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-544"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="compositeAttrs"><span class="annot"><span class="annottext">CompositeDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#compositeAttrs"><span class="hs-identifier hs-var hs-var">compositeAttrs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-545"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-546"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782610"><span id="local-6989586621679782616"><span id="local-6989586621679782619"><span class="annot"><span class="annottext">Int -&gt; CompositeDef -&gt; ShowS
[CompositeDef] -&gt; ShowS
CompositeDef -&gt; [Char]
(Int -&gt; CompositeDef -&gt; ShowS)
-&gt; (CompositeDef -&gt; [Char])
-&gt; ([CompositeDef] -&gt; ShowS)
-&gt; Show CompositeDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CompositeDef -&gt; ShowS
showsPrec :: Int -&gt; CompositeDef -&gt; ShowS
$cshow :: CompositeDef -&gt; [Char]
show :: CompositeDef -&gt; [Char]
$cshowList :: [CompositeDef] -&gt; ShowS
showList :: [CompositeDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782622"><span id="local-6989586621679782627"><span class="annot"><span class="annottext">CompositeDef -&gt; CompositeDef -&gt; Bool
(CompositeDef -&gt; CompositeDef -&gt; Bool)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; Bool) -&gt; Eq CompositeDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CompositeDef -&gt; CompositeDef -&gt; Bool
== :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c/= :: CompositeDef -&gt; CompositeDef -&gt; Bool
/= :: CompositeDef -&gt; CompositeDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782630"><span id="local-6989586621679782633"><span id="local-6989586621679782636"><span id="local-6989586621679782649"><span class="annot"><span class="annottext">ReadPrec [CompositeDef]
ReadPrec CompositeDef
Int -&gt; ReadS CompositeDef
ReadS [CompositeDef]
(Int -&gt; ReadS CompositeDef)
-&gt; ReadS [CompositeDef]
-&gt; ReadPrec CompositeDef
-&gt; ReadPrec [CompositeDef]
-&gt; Read CompositeDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS CompositeDef
readsPrec :: Int -&gt; ReadS CompositeDef
$creadList :: ReadS [CompositeDef]
readList :: ReadS [CompositeDef]
$creadPrec :: ReadPrec CompositeDef
readPrec :: ReadPrec CompositeDef
$creadListPrec :: ReadPrec [CompositeDef]
readListPrec :: ReadPrec [CompositeDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782654"><span id="local-6989586621679782660"><span id="local-6989586621679782666"><span id="local-6989586621679782669"><span id="local-6989586621679782672"><span id="local-6989586621679782675"><span id="local-6989586621679782678"><span class="annot"><span class="annottext">Eq CompositeDef
Eq CompositeDef =&gt;
(CompositeDef -&gt; CompositeDef -&gt; Ordering)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; Bool)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; Bool)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; Bool)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; Bool)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; CompositeDef)
-&gt; (CompositeDef -&gt; CompositeDef -&gt; CompositeDef)
-&gt; Ord CompositeDef
CompositeDef -&gt; CompositeDef -&gt; Bool
CompositeDef -&gt; CompositeDef -&gt; Ordering
CompositeDef -&gt; CompositeDef -&gt; CompositeDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CompositeDef -&gt; CompositeDef -&gt; Ordering
compare :: CompositeDef -&gt; CompositeDef -&gt; Ordering
$c&lt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
&lt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&lt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
&lt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&gt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
&gt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&gt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
&gt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
$cmax :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
max :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
$cmin :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
min :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782681"><span id="local-6989586621679782691"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    CompositeDef -&gt; Code m CompositeDef)
-&gt; Lift CompositeDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
CompositeDef -&gt; Code m CompositeDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CompositeDef -&gt; Code m CompositeDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CompositeDef -&gt; Code m CompositeDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="hs-comment">-- | Used instead of FieldDef</span><span>
</span><span id="line-549"></span><span class="hs-comment">-- to generate a smaller amount of code</span><span>
</span><span id="line-550"></span><span class="hs-keyword">type</span><span> </span><span id="ForeignFieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignFieldDef"><span class="hs-identifier hs-var">ForeignFieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameHS"><span class="hs-identifier hs-type">FieldNameHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-keyword">data</span><span> </span><span id="ForeignDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignDef"><span class="hs-identifier hs-var">ForeignDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ForeignDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignDef"><span class="hs-identifier hs-var">ForeignDef</span></a></span></span><span>
</span><span id="line-553"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="foreignRefTableHaskell"><span class="annot"><span class="annottext">ForeignDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#foreignRefTableHaskell"><span class="hs-identifier hs-var hs-var">foreignRefTableHaskell</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-554"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignRefTableDBName"><span class="annot"><span class="annottext">ForeignDef -&gt; EntityNameDB
</span><a href="Database.Persist.Types.Base.html#foreignRefTableDBName"><span class="hs-identifier hs-var hs-var">foreignRefTableDBName</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameDB"><span class="hs-identifier hs-type">EntityNameDB</span></a></span><span>
</span><span id="line-555"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignConstraintNameHaskell"><span class="annot"><span class="annottext">ForeignDef -&gt; ConstraintNameHS
</span><a href="Database.Persist.Types.Base.html#foreignConstraintNameHaskell"><span class="hs-identifier hs-var hs-var">foreignConstraintNameHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameHS"><span class="hs-identifier hs-type">ConstraintNameHS</span></a></span><span>
</span><span id="line-556"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignConstraintNameDBName"><span class="annot"><span class="annottext">ForeignDef -&gt; ConstraintNameDB
</span><a href="Database.Persist.Types.Base.html#foreignConstraintNameDBName"><span class="hs-identifier hs-var hs-var">foreignConstraintNameDBName</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameDB"><span class="hs-identifier hs-type">ConstraintNameDB</span></a></span><span>
</span><span id="line-557"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignFieldCascade"><span class="annot"><span class="annottext">ForeignDef -&gt; FieldCascade
</span><a href="Database.Persist.Types.Base.html#foreignFieldCascade"><span class="hs-identifier hs-var hs-var">foreignFieldCascade</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span>
</span><span id="line-558"></span><span>    </span><span class="hs-comment">-- ^ Determine how the field will cascade on updates and deletions.</span><span>
</span><span id="line-559"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-560"></span><span>    </span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-561"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignFields"><span class="annot"><span class="annottext">ForeignDef
-&gt; [((FieldNameHS, FieldNameDB), (FieldNameHS, FieldNameDB))]
</span><a href="Database.Persist.Types.Base.html#foreignFields"><span class="hs-identifier hs-var hs-var">foreignFields</span></a></span></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignFieldDef"><span class="hs-identifier hs-type">ForeignFieldDef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignFieldDef"><span class="hs-identifier hs-type">ForeignFieldDef</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- this entity plus the primary entity</span><span>
</span><span id="line-562"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignAttrs"><span class="annot"><span class="annottext">ForeignDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#foreignAttrs"><span class="hs-identifier hs-var hs-var">foreignAttrs</span></a></span></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-563"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignNullable"><span class="annot"><span class="annottext">ForeignDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#foreignNullable"><span class="hs-identifier hs-var hs-var">foreignNullable</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-564"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignToPrimary"><span class="annot"><span class="annottext">ForeignDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#foreignToPrimary"><span class="hs-identifier hs-var hs-var">foreignToPrimary</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-565"></span><span>    </span><span class="hs-comment">-- ^ Determines if the reference is towards a Primary Key or not.</span><span>
</span><span id="line-566"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-567"></span><span>    </span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-568"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-569"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782712"><span id="local-6989586621679782726"><span id="local-6989586621679782729"><span class="annot"><span class="annottext">Int -&gt; ForeignDef -&gt; ShowS
[ForeignDef] -&gt; ShowS
ForeignDef -&gt; [Char]
(Int -&gt; ForeignDef -&gt; ShowS)
-&gt; (ForeignDef -&gt; [Char])
-&gt; ([ForeignDef] -&gt; ShowS)
-&gt; Show ForeignDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ForeignDef -&gt; ShowS
showsPrec :: Int -&gt; ForeignDef -&gt; ShowS
$cshow :: ForeignDef -&gt; [Char]
show :: ForeignDef -&gt; [Char]
$cshowList :: [ForeignDef] -&gt; ShowS
showList :: [ForeignDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782736"><span id="local-6989586621679782749"><span class="annot"><span class="annottext">ForeignDef -&gt; ForeignDef -&gt; Bool
(ForeignDef -&gt; ForeignDef -&gt; Bool)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; Bool) -&gt; Eq ForeignDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ForeignDef -&gt; ForeignDef -&gt; Bool
== :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c/= :: ForeignDef -&gt; ForeignDef -&gt; Bool
/= :: ForeignDef -&gt; ForeignDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782756"><span id="local-6989586621679782759"><span id="local-6989586621679782762"><span id="local-6989586621679782797"><span class="annot"><span class="annottext">ReadPrec [ForeignDef]
ReadPrec ForeignDef
Int -&gt; ReadS ForeignDef
ReadS [ForeignDef]
(Int -&gt; ReadS ForeignDef)
-&gt; ReadS [ForeignDef]
-&gt; ReadPrec ForeignDef
-&gt; ReadPrec [ForeignDef]
-&gt; Read ForeignDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS ForeignDef
readsPrec :: Int -&gt; ReadS ForeignDef
$creadList :: ReadS [ForeignDef]
readList :: ReadS [ForeignDef]
$creadPrec :: ReadPrec ForeignDef
readPrec :: ReadPrec ForeignDef
$creadListPrec :: ReadPrec [ForeignDef]
readListPrec :: ReadPrec [ForeignDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782806"><span id="local-6989586621679782820"><span id="local-6989586621679782833"><span id="local-6989586621679782836"><span id="local-6989586621679782839"><span id="local-6989586621679782842"><span id="local-6989586621679782845"><span class="annot"><span class="annottext">Eq ForeignDef
Eq ForeignDef =&gt;
(ForeignDef -&gt; ForeignDef -&gt; Ordering)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; Bool)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; Bool)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; Bool)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; Bool)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; ForeignDef)
-&gt; (ForeignDef -&gt; ForeignDef -&gt; ForeignDef)
-&gt; Ord ForeignDef
ForeignDef -&gt; ForeignDef -&gt; Bool
ForeignDef -&gt; ForeignDef -&gt; Ordering
ForeignDef -&gt; ForeignDef -&gt; ForeignDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: ForeignDef -&gt; ForeignDef -&gt; Ordering
compare :: ForeignDef -&gt; ForeignDef -&gt; Ordering
$c&lt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
&lt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&lt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
&lt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&gt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
&gt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&gt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
&gt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
$cmax :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
max :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
$cmin :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
min :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782856"><span id="local-6989586621679782881"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    ForeignDef -&gt; Code m ForeignDef)
-&gt; Lift ForeignDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; Code m ForeignDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; Code m ForeignDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; Code m ForeignDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span class="hs-comment">-- | This datatype describes how a foreign reference field cascades deletes</span><span>
</span><span id="line-572"></span><span class="hs-comment">-- or updates.</span><span>
</span><span id="line-573"></span><span class="hs-comment">--</span><span>
</span><span id="line-574"></span><span class="hs-comment">-- This type is used in both parsing the model definitions and performing</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- migrations. A 'Nothing' in either of the field values means that the</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- user has not specified a 'CascadeAction'. An unspecified 'CascadeAction'</span><span>
</span><span id="line-577"></span><span class="hs-comment">-- is defaulted to 'Restrict' when doing migrations.</span><span>
</span><span id="line-578"></span><span class="hs-comment">--</span><span>
</span><span id="line-579"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-580"></span><span class="hs-keyword">data</span><span> </span><span id="FieldCascade"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-var">FieldCascade</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FieldCascade"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-var">FieldCascade</span></a></span></span><span>
</span><span id="line-581"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="fcOnUpdate"><span class="annot"><span class="annottext">FieldCascade -&gt; Maybe CascadeAction
</span><a href="Database.Persist.Types.Base.html#fcOnUpdate"><span class="hs-identifier hs-var hs-var">fcOnUpdate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-type">CascadeAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-582"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fcOnDelete"><span class="annot"><span class="annottext">FieldCascade -&gt; Maybe CascadeAction
</span><a href="Database.Persist.Types.Base.html#fcOnDelete"><span class="hs-identifier hs-var hs-var">fcOnDelete</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-type">CascadeAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-584"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679782917"><span id="local-6989586621679782923"><span id="local-6989586621679782926"><span class="annot"><span class="annottext">Int -&gt; FieldCascade -&gt; ShowS
[FieldCascade] -&gt; ShowS
FieldCascade -&gt; [Char]
(Int -&gt; FieldCascade -&gt; ShowS)
-&gt; (FieldCascade -&gt; [Char])
-&gt; ([FieldCascade] -&gt; ShowS)
-&gt; Show FieldCascade
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FieldCascade -&gt; ShowS
showsPrec :: Int -&gt; FieldCascade -&gt; ShowS
$cshow :: FieldCascade -&gt; [Char]
show :: FieldCascade -&gt; [Char]
$cshowList :: [FieldCascade] -&gt; ShowS
showList :: [FieldCascade] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782930"><span id="local-6989586621679782935"><span class="annot"><span class="annottext">FieldCascade -&gt; FieldCascade -&gt; Bool
(FieldCascade -&gt; FieldCascade -&gt; Bool)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; Bool) -&gt; Eq FieldCascade
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FieldCascade -&gt; FieldCascade -&gt; Bool
== :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c/= :: FieldCascade -&gt; FieldCascade -&gt; Bool
/= :: FieldCascade -&gt; FieldCascade -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782939"><span id="local-6989586621679782942"><span id="local-6989586621679782945"><span id="local-6989586621679782957"><span class="annot"><span class="annottext">ReadPrec [FieldCascade]
ReadPrec FieldCascade
Int -&gt; ReadS FieldCascade
ReadS [FieldCascade]
(Int -&gt; ReadS FieldCascade)
-&gt; ReadS [FieldCascade]
-&gt; ReadPrec FieldCascade
-&gt; ReadPrec [FieldCascade]
-&gt; Read FieldCascade
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FieldCascade
readsPrec :: Int -&gt; ReadS FieldCascade
$creadList :: ReadS [FieldCascade]
readList :: ReadS [FieldCascade]
$creadPrec :: ReadPrec FieldCascade
readPrec :: ReadPrec FieldCascade
$creadListPrec :: ReadPrec [FieldCascade]
readListPrec :: ReadPrec [FieldCascade]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782963"><span id="local-6989586621679782968"><span id="local-6989586621679782973"><span id="local-6989586621679782976"><span id="local-6989586621679782979"><span id="local-6989586621679782982"><span id="local-6989586621679782985"><span class="annot"><span class="annottext">Eq FieldCascade
Eq FieldCascade =&gt;
(FieldCascade -&gt; FieldCascade -&gt; Ordering)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; Bool)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; Bool)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; Bool)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; Bool)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; FieldCascade)
-&gt; (FieldCascade -&gt; FieldCascade -&gt; FieldCascade)
-&gt; Ord FieldCascade
FieldCascade -&gt; FieldCascade -&gt; Bool
FieldCascade -&gt; FieldCascade -&gt; Ordering
FieldCascade -&gt; FieldCascade -&gt; FieldCascade
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FieldCascade -&gt; FieldCascade -&gt; Ordering
compare :: FieldCascade -&gt; FieldCascade -&gt; Ordering
$c&lt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
&lt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&lt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
&lt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&gt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
&gt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&gt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
&gt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
$cmax :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
max :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
$cmin :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
min :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679782989"><span id="local-6989586621679782998"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    FieldCascade -&gt; Code m FieldCascade)
-&gt; Lift FieldCascade
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
FieldCascade -&gt; Code m FieldCascade
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
FieldCascade -&gt; Code m FieldCascade
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
FieldCascade -&gt; Code m FieldCascade
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span class="hs-comment">-- | A 'FieldCascade' that does nothing.</span><span>
</span><span id="line-587"></span><span class="hs-comment">--</span><span>
</span><span id="line-588"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-589"></span><span class="annot"><a href="Database.Persist.Types.Base.html#noCascade"><span class="hs-identifier hs-type">noCascade</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span>
</span><span id="line-590"></span><span id="noCascade"><span class="annot"><span class="annottext">noCascade :: FieldCascade
</span><a href="Database.Persist.Types.Base.html#noCascade"><span class="hs-identifier hs-var hs-var">noCascade</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction -&gt; Maybe CascadeAction -&gt; FieldCascade
</span><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-var">FieldCascade</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="hs-comment">-- | Renders a 'FieldCascade' value such that it can be used in SQL</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- migrations.</span><span>
</span><span id="line-594"></span><span class="hs-comment">--</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-596"></span><span class="annot"><a href="Database.Persist.Types.Base.html#renderFieldCascade"><span class="hs-identifier hs-type">renderFieldCascade</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-597"></span><span id="renderFieldCascade"><span class="annot"><span class="annottext">renderFieldCascade :: FieldCascade -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderFieldCascade"><span class="hs-identifier hs-var hs-var">renderFieldCascade</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span> </span><span id="local-6989586621679783009"><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679783009"><span class="hs-identifier hs-var">onUpdate</span></a></span></span><span> </span><span id="local-6989586621679783010"><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679783010"><span class="hs-identifier hs-var">onDelete</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-598"></span><span>    </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unwords</span></span><span>
</span><span id="line-599"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">(CascadeAction -&gt; Text) -&gt; Maybe CascadeAction -&gt; Text
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Maybe a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; ON DELETE &quot;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; (CascadeAction -&gt; Text) -&gt; CascadeAction -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CascadeAction -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-var">renderCascadeAction</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679783010"><span class="hs-identifier hs-var">onDelete</span></a></span><span>
</span><span id="line-600"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(CascadeAction -&gt; Text) -&gt; Maybe CascadeAction -&gt; Text
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Maybe a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; ON UPDATE &quot;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; (CascadeAction -&gt; Text) -&gt; CascadeAction -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CascadeAction -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-var">renderCascadeAction</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679783009"><span class="hs-identifier hs-var">onUpdate</span></a></span><span>
</span><span id="line-601"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span class="hs-comment">-- | An action that might happen on a deletion or update on a foreign key</span><span>
</span><span id="line-604"></span><span class="hs-comment">-- change.</span><span>
</span><span id="line-605"></span><span class="hs-comment">--</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-607"></span><span class="hs-keyword">data</span><span> </span><span id="CascadeAction"><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-var">CascadeAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Cascade"><span class="annot"><a href="Database.Persist.Types.Base.html#Cascade"><span class="hs-identifier hs-var">Cascade</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Restrict"><span class="annot"><a href="Database.Persist.Types.Base.html#Restrict"><span class="hs-identifier hs-var">Restrict</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SetNull"><span class="annot"><a href="Database.Persist.Types.Base.html#SetNull"><span class="hs-identifier hs-var">SetNull</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SetDefault"><span class="annot"><a href="Database.Persist.Types.Base.html#SetDefault"><span class="hs-identifier hs-var">SetDefault</span></a></span></span><span>
</span><span id="line-608"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679783018"><span id="local-6989586621679783020"><span id="local-6989586621679783023"><span class="annot"><span class="annottext">Int -&gt; CascadeAction -&gt; ShowS
[CascadeAction] -&gt; ShowS
CascadeAction -&gt; [Char]
(Int -&gt; CascadeAction -&gt; ShowS)
-&gt; (CascadeAction -&gt; [Char])
-&gt; ([CascadeAction] -&gt; ShowS)
-&gt; Show CascadeAction
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CascadeAction -&gt; ShowS
showsPrec :: Int -&gt; CascadeAction -&gt; ShowS
$cshow :: CascadeAction -&gt; [Char]
show :: CascadeAction -&gt; [Char]
$cshowList :: [CascadeAction] -&gt; ShowS
showList :: [CascadeAction] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783026"><span id="local-6989586621679783028"><span class="annot"><span class="annottext">CascadeAction -&gt; CascadeAction -&gt; Bool
(CascadeAction -&gt; CascadeAction -&gt; Bool)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; Bool) -&gt; Eq CascadeAction
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CascadeAction -&gt; CascadeAction -&gt; Bool
== :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c/= :: CascadeAction -&gt; CascadeAction -&gt; Bool
/= :: CascadeAction -&gt; CascadeAction -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783031"><span id="local-6989586621679783034"><span id="local-6989586621679783037"><span id="local-6989586621679783043"><span class="annot"><span class="annottext">ReadPrec [CascadeAction]
ReadPrec CascadeAction
Int -&gt; ReadS CascadeAction
ReadS [CascadeAction]
(Int -&gt; ReadS CascadeAction)
-&gt; ReadS [CascadeAction]
-&gt; ReadPrec CascadeAction
-&gt; ReadPrec [CascadeAction]
-&gt; Read CascadeAction
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS CascadeAction
readsPrec :: Int -&gt; ReadS CascadeAction
$creadList :: ReadS [CascadeAction]
readList :: ReadS [CascadeAction]
$creadPrec :: ReadPrec CascadeAction
readPrec :: ReadPrec CascadeAction
$creadListPrec :: ReadPrec [CascadeAction]
readListPrec :: ReadPrec [CascadeAction]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783048"><span id="local-6989586621679783050"><span id="local-6989586621679783052"><span id="local-6989586621679783055"><span id="local-6989586621679783058"><span id="local-6989586621679783061"><span id="local-6989586621679783064"><span class="annot"><span class="annottext">Eq CascadeAction
Eq CascadeAction =&gt;
(CascadeAction -&gt; CascadeAction -&gt; Ordering)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; Bool)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; Bool)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; Bool)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; Bool)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; CascadeAction)
-&gt; (CascadeAction -&gt; CascadeAction -&gt; CascadeAction)
-&gt; Ord CascadeAction
CascadeAction -&gt; CascadeAction -&gt; Bool
CascadeAction -&gt; CascadeAction -&gt; Ordering
CascadeAction -&gt; CascadeAction -&gt; CascadeAction
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CascadeAction -&gt; CascadeAction -&gt; Ordering
compare :: CascadeAction -&gt; CascadeAction -&gt; Ordering
$c&lt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
&lt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&lt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
&lt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&gt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
&gt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&gt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
&gt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
$cmax :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
max :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
$cmin :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
min :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783067"><span id="local-6989586621679783074"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    CascadeAction -&gt; Code m CascadeAction)
-&gt; Lift CascadeAction
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
CascadeAction -&gt; Code m CascadeAction
$clift :: forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CascadeAction -&gt; Code m CascadeAction
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CascadeAction -&gt; Code m CascadeAction
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span class="hs-comment">-- | Render a 'CascadeAction' to 'Text' such that it can be used in a SQL</span><span>
</span><span id="line-611"></span><span class="hs-comment">-- command.</span><span>
</span><span id="line-612"></span><span class="hs-comment">--</span><span>
</span><span id="line-613"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-614"></span><span class="annot"><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-type">renderCascadeAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-type">CascadeAction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-615"></span><span id="renderCascadeAction"><span class="annot"><span class="annottext">renderCascadeAction :: CascadeAction -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-var hs-var">renderCascadeAction</span></a></span></span><span> </span><span id="local-6989586621679783080"><span class="annot"><span class="annottext">CascadeAction
</span><a href="#local-6989586621679783080"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="#local-6989586621679783080"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-616"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#Cascade"><span class="hs-identifier hs-var">Cascade</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;CASCADE&quot;</span></span><span>
</span><span id="line-617"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#Restrict"><span class="hs-identifier hs-var">Restrict</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;RESTRICT&quot;</span></span><span>
</span><span id="line-618"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#SetNull"><span class="hs-identifier hs-var">SetNull</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SET NULL&quot;</span></span><span>
</span><span id="line-619"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#SetDefault"><span class="hs-identifier hs-var">SetDefault</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SET DEFAULT&quot;</span></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span class="hs-keyword">data</span><span> </span><span id="PersistException"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistException"><span class="hs-identifier hs-var">PersistException</span></a></span></span><span>
</span><span id="line-622"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PersistError"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistError"><span class="hs-identifier hs-var">PersistError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Generic Exception</span></span><span>
</span><span id="line-623"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistMarshalError"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistMarshalError"><span class="hs-identifier hs-var">PersistMarshalError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-624"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistInvalidField"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistInvalidField"><span class="hs-identifier hs-var">PersistInvalidField</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-625"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistForeignConstraintUnmet"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistForeignConstraintUnmet"><span class="hs-identifier hs-var">PersistForeignConstraintUnmet</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-626"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistMongoDBError"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistMongoDBError"><span class="hs-identifier hs-var">PersistMongoDBError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-627"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistMongoDBUnsupported"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistMongoDBUnsupported"><span class="hs-identifier hs-var">PersistMongoDBUnsupported</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-628"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679783088"><span id="local-6989586621679783102"><span id="local-6989586621679783106"><span class="annot"><span class="annottext">Int -&gt; PersistException -&gt; ShowS
[PersistException] -&gt; ShowS
PersistException -&gt; [Char]
(Int -&gt; PersistException -&gt; ShowS)
-&gt; (PersistException -&gt; [Char])
-&gt; ([PersistException] -&gt; ShowS)
-&gt; Show PersistException
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PersistException -&gt; ShowS
showsPrec :: Int -&gt; PersistException -&gt; ShowS
$cshow :: PersistException -&gt; [Char]
show :: PersistException -&gt; [Char]
$cshowList :: [PersistException] -&gt; ShowS
showList :: [PersistException] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679783113"><span id="local-6989586621679783117"><span id="local-6989586621679783120"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#PersistException"><span class="hs-identifier hs-type">PersistException</span></a></span></span></span></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span class="hs-comment">-- | A SQL data type. Naming attempts to reflect the underlying Haskell</span><span>
</span><span id="line-633"></span><span class="hs-comment">-- datatypes, eg SqlString instead of SqlVarchar. Different SQL databases may</span><span>
</span><span id="line-634"></span><span class="hs-comment">-- have different translations for these types.</span><span>
</span><span id="line-635"></span><span class="hs-keyword">data</span><span> </span><span id="SqlType"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlType"><span class="hs-identifier hs-var">SqlType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SqlString"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlString"><span class="hs-identifier hs-var">SqlString</span></a></span></span><span>
</span><span id="line-636"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlInt32"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlInt32"><span class="hs-identifier hs-var">SqlInt32</span></a></span></span><span>
</span><span id="line-637"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlInt64"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlInt64"><span class="hs-identifier hs-var">SqlInt64</span></a></span></span><span>
</span><span id="line-638"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlReal"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlReal"><span class="hs-identifier hs-var">SqlReal</span></a></span></span><span>
</span><span id="line-639"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlNumeric"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlNumeric"><span class="hs-identifier hs-var">SqlNumeric</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-640"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlBool"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlBool"><span class="hs-identifier hs-var">SqlBool</span></a></span></span><span>
</span><span id="line-641"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlDay"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlDay"><span class="hs-identifier hs-var">SqlDay</span></a></span></span><span>
</span><span id="line-642"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlTime"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlTime"><span class="hs-identifier hs-var">SqlTime</span></a></span></span><span>
</span><span id="line-643"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlDayTime"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlDayTime"><span class="hs-identifier hs-var">SqlDayTime</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Always uses UTC timezone</span></span><span>
</span><span id="line-644"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlBlob"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlBlob"><span class="hs-identifier hs-var">SqlBlob</span></a></span></span><span>
</span><span id="line-645"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlOther"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlOther"><span class="hs-identifier hs-var">SqlOther</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ a backend-specific name</span></span><span>
</span><span id="line-646"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679783135"><span id="local-6989586621679783143"><span id="local-6989586621679783147"><span class="annot"><span class="annottext">Int -&gt; SqlType -&gt; ShowS
[SqlType] -&gt; ShowS
SqlType -&gt; [Char]
(Int -&gt; SqlType -&gt; ShowS)
-&gt; (SqlType -&gt; [Char]) -&gt; ([SqlType] -&gt; ShowS) -&gt; Show SqlType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SqlType -&gt; ShowS
showsPrec :: Int -&gt; SqlType -&gt; ShowS
$cshow :: SqlType -&gt; [Char]
show :: SqlType -&gt; [Char]
$cshowList :: [SqlType] -&gt; ShowS
showList :: [SqlType] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783150"><span id="local-6989586621679783154"><span id="local-6989586621679783157"><span id="local-6989586621679783179"><span class="annot"><span class="annottext">ReadPrec [SqlType]
ReadPrec SqlType
Int -&gt; ReadS SqlType
ReadS [SqlType]
(Int -&gt; ReadS SqlType)
-&gt; ReadS [SqlType]
-&gt; ReadPrec SqlType
-&gt; ReadPrec [SqlType]
-&gt; Read SqlType
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS SqlType
readsPrec :: Int -&gt; ReadS SqlType
$creadList :: ReadS [SqlType]
readList :: ReadS [SqlType]
$creadPrec :: ReadPrec SqlType
readPrec :: ReadPrec SqlType
$creadListPrec :: ReadPrec [SqlType]
readListPrec :: ReadPrec [SqlType]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783182"><span id="local-6989586621679783188"><span class="annot"><span class="annottext">SqlType -&gt; SqlType -&gt; Bool
(SqlType -&gt; SqlType -&gt; Bool)
-&gt; (SqlType -&gt; SqlType -&gt; Bool) -&gt; Eq SqlType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SqlType -&gt; SqlType -&gt; Bool
== :: SqlType -&gt; SqlType -&gt; Bool
$c/= :: SqlType -&gt; SqlType -&gt; Bool
/= :: SqlType -&gt; SqlType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783194"><span id="local-6989586621679783200"><span id="local-6989586621679783204"><span id="local-6989586621679783207"><span id="local-6989586621679783210"><span id="local-6989586621679783213"><span id="local-6989586621679783216"><span class="annot"><span class="annottext">Eq SqlType
Eq SqlType =&gt;
(SqlType -&gt; SqlType -&gt; Ordering)
-&gt; (SqlType -&gt; SqlType -&gt; Bool)
-&gt; (SqlType -&gt; SqlType -&gt; Bool)
-&gt; (SqlType -&gt; SqlType -&gt; Bool)
-&gt; (SqlType -&gt; SqlType -&gt; Bool)
-&gt; (SqlType -&gt; SqlType -&gt; SqlType)
-&gt; (SqlType -&gt; SqlType -&gt; SqlType)
-&gt; Ord SqlType
SqlType -&gt; SqlType -&gt; Bool
SqlType -&gt; SqlType -&gt; Ordering
SqlType -&gt; SqlType -&gt; SqlType
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: SqlType -&gt; SqlType -&gt; Ordering
compare :: SqlType -&gt; SqlType -&gt; Ordering
$c&lt; :: SqlType -&gt; SqlType -&gt; Bool
&lt; :: SqlType -&gt; SqlType -&gt; Bool
$c&lt;= :: SqlType -&gt; SqlType -&gt; Bool
&lt;= :: SqlType -&gt; SqlType -&gt; Bool
$c&gt; :: SqlType -&gt; SqlType -&gt; Bool
&gt; :: SqlType -&gt; SqlType -&gt; Bool
$c&gt;= :: SqlType -&gt; SqlType -&gt; Bool
&gt;= :: SqlType -&gt; SqlType -&gt; Bool
$cmax :: SqlType -&gt; SqlType -&gt; SqlType
max :: SqlType -&gt; SqlType -&gt; SqlType
$cmin :: SqlType -&gt; SqlType -&gt; SqlType
min :: SqlType -&gt; SqlType -&gt; SqlType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783219"><span id="local-6989586621679783240"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType)
-&gt; Lift SqlType
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType
$clift :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span class="hs-keyword">data</span><span> </span><span id="PersistFilter"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistFilter"><span class="hs-identifier hs-var">PersistFilter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Eq"><span class="annot"><a href="Database.Persist.Types.Base.html#Eq"><span class="hs-identifier hs-var">Eq</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Ne"><span class="annot"><a href="Database.Persist.Types.Base.html#Ne"><span class="hs-identifier hs-var">Ne</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Gt"><span class="annot"><a href="Database.Persist.Types.Base.html#Gt"><span class="hs-identifier hs-var">Gt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Lt"><span class="annot"><a href="Database.Persist.Types.Base.html#Lt"><span class="hs-identifier hs-var">Lt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Ge"><span class="annot"><a href="Database.Persist.Types.Base.html#Ge"><span class="hs-identifier hs-var">Ge</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Le"><span class="annot"><a href="Database.Persist.Types.Base.html#Le"><span class="hs-identifier hs-var">Le</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="In"><span class="annot"><a href="Database.Persist.Types.Base.html#In"><span class="hs-identifier hs-var">In</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NotIn"><span class="annot"><a href="Database.Persist.Types.Base.html#NotIn"><span class="hs-identifier hs-var">NotIn</span></a></span></span><span>
</span><span id="line-649"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="BackendSpecificFilter"><span class="annot"><a href="Database.Persist.Types.Base.html#BackendSpecificFilter"><span class="hs-identifier hs-var">BackendSpecificFilter</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-650"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679783270"><span id="local-6989586621679783274"><span id="local-6989586621679783277"><span id="local-6989586621679783291"><span class="annot"><span class="annottext">ReadPrec [PersistFilter]
ReadPrec PersistFilter
Int -&gt; ReadS PersistFilter
ReadS [PersistFilter]
(Int -&gt; ReadS PersistFilter)
-&gt; ReadS [PersistFilter]
-&gt; ReadPrec PersistFilter
-&gt; ReadPrec [PersistFilter]
-&gt; Read PersistFilter
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS PersistFilter
readsPrec :: Int -&gt; ReadS PersistFilter
$creadList :: ReadS [PersistFilter]
readList :: ReadS [PersistFilter]
$creadPrec :: ReadPrec PersistFilter
readPrec :: ReadPrec PersistFilter
$creadListPrec :: ReadPrec [PersistFilter]
readListPrec :: ReadPrec [PersistFilter]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783294"><span id="local-6989586621679783298"><span id="local-6989586621679783302"><span class="annot"><span class="annottext">Int -&gt; PersistFilter -&gt; ShowS
[PersistFilter] -&gt; ShowS
PersistFilter -&gt; [Char]
(Int -&gt; PersistFilter -&gt; ShowS)
-&gt; (PersistFilter -&gt; [Char])
-&gt; ([PersistFilter] -&gt; ShowS)
-&gt; Show PersistFilter
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PersistFilter -&gt; ShowS
showsPrec :: Int -&gt; PersistFilter -&gt; ShowS
$cshow :: PersistFilter -&gt; [Char]
show :: PersistFilter -&gt; [Char]
$cshowList :: [PersistFilter] -&gt; ShowS
showList :: [PersistFilter] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783305"><span id="local-6989586621679783319"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    PersistFilter -&gt; Code m PersistFilter)
-&gt; Lift PersistFilter
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
PersistFilter -&gt; Code m PersistFilter
$clift :: forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistFilter -&gt; Code m PersistFilter
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistFilter -&gt; Code m PersistFilter
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span class="hs-keyword">data</span><span> </span><span id="UpdateException"><span class="annot"><a href="Database.Persist.Types.Base.html#UpdateException"><span class="hs-identifier hs-var">UpdateException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="KeyNotFound"><span class="annot"><a href="Database.Persist.Types.Base.html#KeyNotFound"><span class="hs-identifier hs-var">KeyNotFound</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-653"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span id="UpsertError"><span class="annot"><a href="Database.Persist.Types.Base.html#UpsertError"><span class="hs-identifier hs-var">UpsertError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-654"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679783336"><span id="local-6989586621679783341"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#UpdateException"><span class="hs-identifier hs-type">UpdateException</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-655"></span><span>    </span><span id="local-6989586621679783345"><span class="annot"><span class="annottext">show :: UpdateException -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#KeyNotFound"><span class="hs-identifier hs-type">KeyNotFound</span></a></span><span> </span><span id="local-6989586621679783346"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679783346"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Key not found during updateGet: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679783346"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-656"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#UpsertError"><span class="hs-identifier hs-type">UpsertError</span></a></span><span> </span><span id="local-6989586621679783347"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679783347"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Error during upsert: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679783347"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-657"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679783353"><span id="local-6989586621679783357"><span id="local-6989586621679783360"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#UpdateException"><span class="hs-identifier hs-type">UpdateException</span></a></span></span></span></span><span>
</span><span id="line-658"></span><span>
</span><span id="line-659"></span><span class="hs-keyword">data</span><span> </span><span id="OnlyUniqueException"><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-var">OnlyUniqueException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OnlyUniqueException"><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-var">OnlyUniqueException</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-660"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679783364"><span id="local-6989586621679783369"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-type">OnlyUniqueException</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-661"></span><span>    </span><span id="local-6989586621679783372"><span class="annot"><span class="annottext">show :: OnlyUniqueException -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-type">OnlyUniqueException</span></a></span><span> </span><span id="local-6989586621679783373"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679783373"><span class="hs-identifier hs-var">uniqueMsg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-662"></span><span>      </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Expected only one unique key, got &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679783373"><span class="hs-identifier hs-var">uniqueMsg</span></a></span><span>
</span><span id="line-663"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679783379"><span id="local-6989586621679783383"><span id="local-6989586621679783386"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-type">OnlyUniqueException</span></a></span></span></span></span><span>
</span><span id="line-664"></span><span>
</span><span id="line-665"></span><span>
</span><span id="line-666"></span><span class="hs-keyword">data</span><span> </span><span id="PersistUpdate"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistUpdate"><span class="hs-identifier hs-var">PersistUpdate</span></a></span></span><span>
</span><span id="line-667"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Assign"><span class="annot"><a href="Database.Persist.Types.Base.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Add"><span class="annot"><a href="Database.Persist.Types.Base.html#Add"><span class="hs-identifier hs-var">Add</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Subtract"><span class="annot"><a href="Database.Persist.Types.Base.html#Subtract"><span class="hs-identifier hs-var">Subtract</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Multiply"><span class="annot"><a href="Database.Persist.Types.Base.html#Multiply"><span class="hs-identifier hs-var">Multiply</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Divide"><span class="annot"><a href="Database.Persist.Types.Base.html#Divide"><span class="hs-identifier hs-var">Divide</span></a></span></span><span>
</span><span id="line-668"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="BackendSpecificUpdate"><span class="annot"><a href="Database.Persist.Types.Base.html#BackendSpecificUpdate"><span class="hs-identifier hs-var">BackendSpecificUpdate</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-669"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679783395"><span id="local-6989586621679783399"><span id="local-6989586621679783402"><span id="local-6989586621679783413"><span class="annot"><span class="annottext">ReadPrec [PersistUpdate]
ReadPrec PersistUpdate
Int -&gt; ReadS PersistUpdate
ReadS [PersistUpdate]
(Int -&gt; ReadS PersistUpdate)
-&gt; ReadS [PersistUpdate]
-&gt; ReadPrec PersistUpdate
-&gt; ReadPrec [PersistUpdate]
-&gt; Read PersistUpdate
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS PersistUpdate
readsPrec :: Int -&gt; ReadS PersistUpdate
$creadList :: ReadS [PersistUpdate]
readList :: ReadS [PersistUpdate]
$creadPrec :: ReadPrec PersistUpdate
readPrec :: ReadPrec PersistUpdate
$creadListPrec :: ReadPrec [PersistUpdate]
readListPrec :: ReadPrec [PersistUpdate]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783416"><span id="local-6989586621679783420"><span id="local-6989586621679783424"><span class="annot"><span class="annottext">Int -&gt; PersistUpdate -&gt; ShowS
[PersistUpdate] -&gt; ShowS
PersistUpdate -&gt; [Char]
(Int -&gt; PersistUpdate -&gt; ShowS)
-&gt; (PersistUpdate -&gt; [Char])
-&gt; ([PersistUpdate] -&gt; ShowS)
-&gt; Show PersistUpdate
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PersistUpdate -&gt; ShowS
showsPrec :: Int -&gt; PersistUpdate -&gt; ShowS
$cshow :: PersistUpdate -&gt; [Char]
show :: PersistUpdate -&gt; [Char]
$cshowList :: [PersistUpdate] -&gt; ShowS
showList :: [PersistUpdate] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783427"><span id="local-6989586621679783438"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *).
    Quote m =&gt;
    PersistUpdate -&gt; Code m PersistUpdate)
-&gt; Lift PersistUpdate
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
PersistUpdate -&gt; Code m PersistUpdate
$clift :: forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistUpdate -&gt; Code m PersistUpdate
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistUpdate -&gt; Code m PersistUpdate
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span class="hs-comment">-- | A 'FieldDef' represents the inormation that @persistent@ knows about</span><span>
</span><span id="line-672"></span><span class="hs-comment">-- a field of a datatype. This includes information used to parse the field</span><span>
</span><span id="line-673"></span><span class="hs-comment">-- out of the database and what the field corresponds to.</span><span>
</span><span id="line-674"></span><span class="hs-keyword">data</span><span> </span><span id="FieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-var">FieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-var">FieldDef</span></a></span></span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="fieldHaskell"><span class="annot"><span class="annottext">FieldDef -&gt; FieldNameHS
</span><a href="Database.Persist.Types.Base.html#fieldHaskell"><span class="hs-identifier hs-var hs-var">fieldHaskell</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameHS"><span class="hs-identifier hs-type">FieldNameHS</span></a></span><span>
</span><span id="line-676"></span><span>    </span><span class="hs-comment">-- ^ The name of the field. Note that this does not corresponds to the</span><span>
</span><span id="line-677"></span><span>    </span><span class="hs-comment">-- record labels generated for the particular entity - record labels</span><span>
</span><span id="line-678"></span><span>    </span><span class="hs-comment">-- are generated with the type name prefixed to the field, so</span><span>
</span><span id="line-679"></span><span>    </span><span class="hs-comment">-- a 'FieldDef' that contains a @'FieldNameHS' &quot;name&quot;@ for a type</span><span>
</span><span id="line-680"></span><span>    </span><span class="hs-comment">-- @User@ will have a record field @userName@.</span><span>
</span><span id="line-681"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldDB"><span class="annot"><span class="annottext">FieldDef -&gt; FieldNameDB
</span><a href="Database.Persist.Types.Base.html#fieldDB"><span class="hs-identifier hs-var hs-var">fieldDB</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span>
</span><span id="line-682"></span><span>    </span><span class="hs-comment">-- ^ The name of the field in the database. For SQL databases, this</span><span>
</span><span id="line-683"></span><span>    </span><span class="hs-comment">-- corresponds to the column name.</span><span>
</span><span id="line-684"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldType"><span class="annot"><span class="annottext">FieldDef -&gt; FieldType
</span><a href="Database.Persist.Types.Base.html#fieldType"><span class="hs-identifier hs-var hs-var">fieldType</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span>
</span><span id="line-685"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The type of the field in Haskell.</span></span><span>
</span><span id="line-686"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldSqlType"><span class="annot"><span class="annottext">FieldDef -&gt; SqlType
</span><a href="Database.Persist.Types.Base.html#fieldSqlType"><span class="hs-identifier hs-var hs-var">fieldSqlType</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#SqlType"><span class="hs-identifier hs-type">SqlType</span></a></span><span>
</span><span id="line-687"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The type of the field in a SQL database.</span></span><span>
</span><span id="line-688"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldAttrs"><span class="annot"><span class="annottext">FieldDef -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#fieldAttrs"><span class="hs-identifier hs-var hs-var">fieldAttrs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-type">FieldAttr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-689"></span><span>    </span><span class="hs-comment">-- ^ User annotations for a field. These are provided with the @!@</span><span>
</span><span id="line-690"></span><span>    </span><span class="hs-comment">-- operator.</span><span>
</span><span id="line-691"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldStrict"><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#fieldStrict"><span class="hs-identifier hs-var hs-var">fieldStrict</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-692"></span><span>    </span><span class="hs-comment">-- ^ If this is 'True', then the Haskell datatype will have a strict</span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-comment">-- record field. The default value for this is 'True'.</span><span>
</span><span id="line-694"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldReference"><span class="annot"><span class="annottext">FieldDef -&gt; ReferenceDef
</span><a href="Database.Persist.Types.Base.html#fieldReference"><span class="hs-identifier hs-var hs-var">fieldReference</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#ReferenceDef"><span class="hs-identifier hs-type">ReferenceDef</span></a></span><span>
</span><span id="line-695"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldCascade"><span class="annot"><span class="annottext">FieldDef -&gt; FieldCascade
</span><a href="Database.Persist.Types.Base.html#fieldCascade"><span class="hs-identifier hs-var hs-var">fieldCascade</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span>
</span><span id="line-696"></span><span>    </span><span class="hs-comment">-- ^ Defines how operations on the field cascade on to the referenced</span><span>
</span><span id="line-697"></span><span>    </span><span class="hs-comment">-- tables. This doesn't have any meaning if the 'fieldReference' is set</span><span>
</span><span id="line-698"></span><span>    </span><span class="hs-comment">-- to 'NoReference' or 'SelfReference'. The cascade option here should</span><span>
</span><span id="line-699"></span><span>    </span><span class="hs-comment">-- be the same as the one obtained in the 'fieldReference'.</span><span>
</span><span id="line-700"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-701"></span><span>    </span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-702"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldComments"><span class="annot"><span class="annottext">FieldDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#fieldComments"><span class="hs-identifier hs-var hs-var">fieldComments</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-703"></span><span>    </span><span class="hs-comment">-- ^ Optional comments for a 'Field'.</span><span>
</span><span id="line-704"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-705"></span><span>    </span><span class="hs-comment">-- @since 2.10.0</span><span>
</span><span id="line-706"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldGenerated"><span class="annot"><span class="annottext">FieldDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#fieldGenerated"><span class="hs-identifier hs-var hs-var">fieldGenerated</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-707"></span><span>    </span><span class="hs-comment">-- ^ Whether or not the field is a @GENERATED@ column, and additionally</span><span>
</span><span id="line-708"></span><span>    </span><span class="hs-comment">-- the expression to use for generation.</span><span>
</span><span id="line-709"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-710"></span><span>    </span><span class="hs-comment">-- @since 2.11.0.0</span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldIsImplicitIdColumn"><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#fieldIsImplicitIdColumn"><span class="hs-identifier hs-var hs-var">fieldIsImplicitIdColumn</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-712"></span><span>    </span><span class="hs-comment">-- ^ 'True' if the field is an implicit ID column. 'False' otherwise.</span><span>
</span><span id="line-713"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-714"></span><span>    </span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-715"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-716"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679783458"><span id="local-6989586621679783473"><span id="local-6989586621679783476"><span class="annot"><span class="annottext">Int -&gt; FieldDef -&gt; ShowS
[FieldDef] -&gt; ShowS
FieldDef -&gt; [Char]
(Int -&gt; FieldDef -&gt; ShowS)
-&gt; (FieldDef -&gt; [Char]) -&gt; ([FieldDef] -&gt; ShowS) -&gt; Show FieldDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FieldDef -&gt; ShowS
showsPrec :: Int -&gt; FieldDef -&gt; ShowS
$cshow :: FieldDef -&gt; [Char]
show :: FieldDef -&gt; [Char]
$cshowList :: [FieldDef] -&gt; ShowS
showList :: [FieldDef] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783479"><span id="local-6989586621679783492"><span class="annot"><span class="annottext">FieldDef -&gt; FieldDef -&gt; Bool
(FieldDef -&gt; FieldDef -&gt; Bool)
-&gt; (FieldDef -&gt; FieldDef -&gt; Bool) -&gt; Eq FieldDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FieldDef -&gt; FieldDef -&gt; Bool
== :: FieldDef -&gt; FieldDef -&gt; Bool
$c/= :: FieldDef -&gt; FieldDef -&gt; Bool
/= :: FieldDef -&gt; FieldDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783495"><span id="local-6989586621679783498"><span id="local-6989586621679783501"><span id="local-6989586621679783541"><span class="annot"><span class="annottext">ReadPrec [FieldDef]
ReadPrec FieldDef
Int -&gt; ReadS FieldDef
ReadS [FieldDef]
(Int -&gt; ReadS FieldDef)
-&gt; ReadS [FieldDef]
-&gt; ReadPrec FieldDef
-&gt; ReadPrec [FieldDef]
-&gt; Read FieldDef
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FieldDef
readsPrec :: Int -&gt; ReadS FieldDef
$creadList :: ReadS [FieldDef]
readList :: ReadS [FieldDef]
$creadPrec :: ReadPrec FieldDef
readPrec :: ReadPrec FieldDef
$creadListPrec :: ReadPrec [FieldDef]
readListPrec :: ReadPrec [FieldDef]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783546"><span id="local-6989586621679783561"><span id="local-6989586621679783576"><span id="local-6989586621679783579"><span id="local-6989586621679783582"><span id="local-6989586621679783585"><span id="local-6989586621679783588"><span class="annot"><span class="annottext">Eq FieldDef
Eq FieldDef =&gt;
(FieldDef -&gt; FieldDef -&gt; Ordering)
-&gt; (FieldDef -&gt; FieldDef -&gt; Bool)
-&gt; (FieldDef -&gt; FieldDef -&gt; Bool)
-&gt; (FieldDef -&gt; FieldDef -&gt; Bool)
-&gt; (FieldDef -&gt; FieldDef -&gt; Bool)
-&gt; (FieldDef -&gt; FieldDef -&gt; FieldDef)
-&gt; (FieldDef -&gt; FieldDef -&gt; FieldDef)
-&gt; Ord FieldDef
FieldDef -&gt; FieldDef -&gt; Bool
FieldDef -&gt; FieldDef -&gt; Ordering
FieldDef -&gt; FieldDef -&gt; FieldDef
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FieldDef -&gt; FieldDef -&gt; Ordering
compare :: FieldDef -&gt; FieldDef -&gt; Ordering
$c&lt; :: FieldDef -&gt; FieldDef -&gt; Bool
&lt; :: FieldDef -&gt; FieldDef -&gt; Bool
$c&lt;= :: FieldDef -&gt; FieldDef -&gt; Bool
&lt;= :: FieldDef -&gt; FieldDef -&gt; Bool
$c&gt; :: FieldDef -&gt; FieldDef -&gt; Bool
&gt; :: FieldDef -&gt; FieldDef -&gt; Bool
$c&gt;= :: FieldDef -&gt; FieldDef -&gt; Bool
&gt;= :: FieldDef -&gt; FieldDef -&gt; Bool
$cmax :: FieldDef -&gt; FieldDef -&gt; FieldDef
max :: FieldDef -&gt; FieldDef -&gt; FieldDef
$cmin :: FieldDef -&gt; FieldDef -&gt; FieldDef
min :: FieldDef -&gt; FieldDef -&gt; FieldDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679783591"><span id="local-6989586621679783619"><span class="annot"><span class="annottext">(forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef)
-&gt; Lift FieldDef
forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-717"></span></pre></body></html>