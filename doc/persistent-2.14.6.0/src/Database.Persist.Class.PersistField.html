<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE PatternGuards, DataKinds, TypeOperators, UndecidableInstances, GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Persist.Class.PersistField</span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier">getPersistMap</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#OverflowNatural"><span class="hs-identifier">OverflowNatural</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">second</span></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;=&lt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Char8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unpack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">readInt</span></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Fixed</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int8</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IM</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">double</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Encoding</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TE</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Encoding.Error</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TERR</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word8</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word64</span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Numeric.Natural</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Natural</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Text.Blaze.Html</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Text.Blaze.Html.Renderer.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">renderHtml</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html"><span class="hs-identifier">Database.Persist.Types.Base</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Day</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TimeOfDay</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UTCTime</span></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="hs-identifier">parseTimeM</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">defaultTimeLocale</span></span><span class="hs-special">)</span><span class="hs-cpp">

#ifdef HIGH_PRECISION_DATE
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Time.Clock.POSIX</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">posixSecondsToUTCTime</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">-- | This class teaches Persistent how to take a custom type and marshal it to and from a 'PersistValue', allowing it to be stored in a database.</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- ==== __Examples__</span><span>
</span><span id="line-51"></span><span class="hs-comment">--</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- ===== Simple Newtype</span><span>
</span><span id="line-53"></span><span class="hs-comment">--</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- You can use @newtype@ to add more type safety/readability to a basis type like 'ByteString'. In these cases, just derive 'PersistField' and @PersistFieldSql@:</span><span>
</span><span id="line-55"></span><span class="hs-comment">--</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- {-\# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- newtype HashedPassword = HashedPassword 'ByteString'</span><span>
</span><span id="line-60"></span><span class="hs-comment">--   deriving (Eq, Show, 'PersistField', PersistFieldSql)</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-62"></span><span class="hs-comment">--</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- ===== Smart Constructor Newtype</span><span>
</span><span id="line-64"></span><span class="hs-comment">--</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- In this example, we create a 'PersistField' instance for a newtype following the &quot;Smart Constructor&quot; pattern.</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- {-\# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- import qualified &quot;Data.Text&quot; as T</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- import qualified &quot;Data.Char&quot; as C</span><span>
</span><span id="line-71"></span><span class="hs-comment">--</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- -- | An American Social Security Number</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- newtype SSN = SSN 'Text'</span><span>
</span><span id="line-74"></span><span class="hs-comment">--  deriving (Eq, Show, PersistFieldSql)</span><span>
</span><span id="line-75"></span><span class="hs-comment">--</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- mkSSN :: 'Text' -&gt; 'Either' 'Text' SSN</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- mkSSN t = if (T.length t == 9) &amp;&amp; (T.all C.isDigit t)</span><span>
</span><span id="line-78"></span><span class="hs-comment">--  then 'Right' $ SSN t</span><span>
</span><span id="line-79"></span><span class="hs-comment">--  else 'Left' $ &quot;Invalid SSN: &quot; &lt;&gt; t</span><span>
</span><span id="line-80"></span><span class="hs-comment">--</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- instance 'PersistField' SSN where</span><span>
</span><span id="line-82"></span><span class="hs-comment">--   'toPersistValue' (SSN t) = 'PersistText' t</span><span>
</span><span id="line-83"></span><span class="hs-comment">--   'fromPersistValue' ('PersistText' t) = mkSSN t</span><span>
</span><span id="line-84"></span><span class="hs-comment">--   -- Handle cases where the database does not give us PersistText</span><span>
</span><span id="line-85"></span><span class="hs-comment">--   'fromPersistValue' x = 'Left' $ &quot;File.hs: When trying to deserialize an SSN: expected PersistText, received: &quot; &lt;&gt; T.pack (show x)</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-87"></span><span class="hs-comment">--</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- Tips:</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- * This file contain dozens of 'PersistField' instances you can look at for examples.</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- * Typically custom 'PersistField' instances will only accept a single 'PersistValue' constructor in 'fromPersistValue'.</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- * Internal 'PersistField' instances accept a wide variety of 'PersistValue's to accomodate e.g. storing booleans as integers, booleans or strings.</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- * If you're making a custom instance and using a SQL database, you'll also need @PersistFieldSql@ to specify the type of the database column.</span><span>
</span><span id="line-94"></span><span class="hs-keyword">class</span><span> </span><span id="PersistField"><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-var">PersistField</span></a></span></span><span> </span><span id="local-6989586621679783988"><span class="annot"><a href="#local-6989586621679783988"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>    </span><span id="toPersistValue"><span class="annot"><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-type">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679783988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span>
</span><span id="line-96"></span><span>    </span><span id="fromPersistValue"><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-type">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><a href="#local-6989586621679783988"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-cpp">

#ifndef NO_OVERLAP
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>    </span><span id="local-6989586621679784176"><span class="annot"><span class="annottext">toPersistValue :: [Char] -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-var">PersistText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PersistValue)
-&gt; ([Char] -&gt; Text) -&gt; [Char] -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621679784195"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text [Char]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784196"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784196"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784196"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784199"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784199"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; [Char]) -&gt; Text -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">OnDecodeError -&gt; ByteString -&gt; Text
</span><span class="hs-identifier hs-var">TE.decodeUtf8With</span></span><span> </span><span class="annot"><span class="annottext">OnDecodeError
</span><span class="hs-identifier hs-var">TERR.lenientDecode</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784199"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784203"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784203"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784203"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784206"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784206"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784206"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistRational"><span class="hs-identifier hs-type">PersistRational</span></a></span><span> </span><span id="local-6989586621679784208"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784208"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784208"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDay"><span class="hs-identifier hs-type">PersistDay</span></a></span><span> </span><span id="local-6989586621679784210"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784210"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Day -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784210"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistTimeOfDay"><span class="hs-identifier hs-type">PersistTimeOfDay</span></a></span><span> </span><span id="local-6989586621679784212"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784212"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784212"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistUTCTime"><span class="hs-identifier hs-type">PersistUTCTime</span></a></span><span> </span><span id="local-6989586621679784214"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784214"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784214"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [Char]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [Char]) -&gt; Text -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Unexpected null&quot;</span></span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistBool"><span class="hs-identifier hs-type">PersistBool</span></a></span><span> </span><span id="local-6989586621679784217"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679784217"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either Text [Char]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Either Text [Char]) -&gt; [Char] -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">Prelude.show</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679784217"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistList"><span class="hs-identifier hs-type">PersistList</span></a></span><span> </span><span class="annot"><span class="annottext">[PersistValue]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [Char]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [Char]) -&gt; Text -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot convert PersistList to String&quot;</span></span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistMap"><span class="hs-identifier hs-type">PersistMap</span></a></span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [Char]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [Char]) -&gt; Text -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot convert PersistMap to String&quot;</span></span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistLiteral_"><span class="hs-identifier hs-type">PersistLiteral_</span></a></span><span> </span><span class="annot"><span class="annottext">LiteralType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [Char]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [Char]) -&gt; Text -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot convert PersistLiteral_ to String&quot;</span></span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistArray"><span class="hs-identifier hs-type">PersistArray</span></a></span><span> </span><span class="annot"><span class="annottext">[PersistValue]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [Char]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [Char]) -&gt; Text -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot convert PersistArray to String&quot;</span></span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistObjectId"><span class="hs-identifier hs-type">PersistObjectId</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [Char]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [Char]) -&gt; Text -&gt; Either Text [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot convert PersistObjectId to String&quot;</span></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-119"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>    </span><span id="local-6989586621679784226"><span class="annot"><span class="annottext">toPersistValue :: ByteString -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-var">PersistByteString</span></a></span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621679784231"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text ByteString
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784232"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784232"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either Text ByteString
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784232"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784233"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784233"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">TE.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString) -&gt; Either Text Text -&gt; Either Text ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text Text
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784233"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-125"></span><span>    </span><span id="local-6989586621679784238"><span class="annot"><span class="annottext">toPersistValue :: Text -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-var">PersistText</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621679784239"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text Text
</span><a href="Database.Persist.PersistValue.html#fromPersistValueText"><span class="hs-identifier hs-var">fromPersistValueText</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TL.Text</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679784245"><span class="annot"><span class="annottext">toPersistValue :: Text -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PersistValue) -&gt; (Text -&gt; Text) -&gt; Text -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679784249"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Either Text Text -&gt; Either Text Text
forall a b. (a -&gt; b) -&gt; Either Text a -&gt; Either Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.fromStrict</span></span><span> </span><span class="annot"><span class="annottext">(Either Text Text -&gt; Either Text Text)
-&gt; (PersistValue -&gt; Either Text Text)
-&gt; PersistValue
-&gt; Either Text Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text Text
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Html</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-133"></span><span>    </span><span id="local-6989586621679784254"><span class="annot"><span class="annottext">toPersistValue :: Html -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-var">PersistText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PersistValue) -&gt; (Html -&gt; Text) -&gt; Html -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; (Html -&gt; Text) -&gt; Html -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Html -&gt; Text
</span><span class="hs-identifier hs-var">renderHtml</span></span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679784259"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Html
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Html) -&gt; Either Text Text -&gt; Either Text Html
forall a b. (a -&gt; b) -&gt; Either Text a -&gt; Either Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Html
forall a. ToMarkup a =&gt; a -&gt; Html
</span><span class="hs-identifier hs-var">preEscapedToMarkup</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Html</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either Text Text -&gt; Either Text Html)
-&gt; (PersistValue -&gt; Either Text Text)
-&gt; PersistValue
-&gt; Either Text Html
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text Text
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679784268"><span class="annot"><span class="annottext">toPersistValue :: Int -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue) -&gt; (Int -&gt; Int64) -&gt; Int -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621679784278"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Int
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784279"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784279"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Either Text Int
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Either Text Int) -&gt; Int -&gt; Either Text Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784279"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784280"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784280"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Either Text Int
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784280"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784282"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784282"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int) -&gt; Text -&gt; Either Text Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784282"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int8</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>    </span><span id="local-6989586621679784290"><span class="annot"><span class="annottext">toPersistValue :: Int8 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue) -&gt; (Int8 -&gt; Int64) -&gt; Int8 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int8 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-144"></span><span>    </span><span id="local-6989586621679784308"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Int8
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784309"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784309"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int8 -&gt; Either Text Int8
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int8 -&gt; Either Text Int8) -&gt; Int8 -&gt; Either Text Int8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Int8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784309"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784310"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784310"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int8 -&gt; Either Text Int8
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Int8
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784310"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int8</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784311"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784311"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">readInt</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784311"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-147"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784312"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784312"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int8 -&gt; Either Text Int8
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int8 -&gt; Either Text Int8) -&gt; Int8 -&gt; Either Text Int8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784312"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-148"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784313"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784313"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784314"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784314"><span class="hs-identifier hs-var">extra</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int8
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int8) -&gt; Text -&gt; Either Text Int8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Int -&gt; ByteString -&gt; Text
forall result.
Show result =&gt;
Text -&gt; ByteString -&gt; result -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#extraInputError"><span class="hs-identifier hs-var">extraInputError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784311"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784313"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784314"><span class="hs-identifier hs-var">extra</span></a></span><span>
</span><span id="line-149"></span><span>                                               </span><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int8
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int8) -&gt; Text -&gt; Either Text Int8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#intParseError"><span class="hs-identifier hs-var">intParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784311"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784317"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784317"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int8
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int8) -&gt; Text -&gt; Either Text Int8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int8&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784317"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621679784324"><span class="annot"><span class="annottext">toPersistValue :: Int16 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (Int16 -&gt; Int64) -&gt; Int16 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679784339"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Int16
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784340"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784340"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Either Text Int16
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int16 -&gt; Either Text Int16) -&gt; Int16 -&gt; Either Text Int16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Int16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784340"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784341"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784341"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Either Text Int16
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Int16
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784341"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-156"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784342"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784342"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">readInt</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784342"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-157"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784343"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784343"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Either Text Int16
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int16 -&gt; Either Text Int16) -&gt; Int16 -&gt; Either Text Int16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784343"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-158"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784344"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784344"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784345"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784345"><span class="hs-identifier hs-var">extra</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int16
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int16) -&gt; Text -&gt; Either Text Int16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Int -&gt; ByteString -&gt; Text
forall result.
Show result =&gt;
Text -&gt; ByteString -&gt; result -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#extraInputError"><span class="hs-identifier hs-var">extraInputError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784342"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784344"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784345"><span class="hs-identifier hs-var">extra</span></a></span><span>
</span><span id="line-159"></span><span>                                               </span><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int16
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int16) -&gt; Text -&gt; Either Text Int16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#intParseError"><span class="hs-identifier hs-var">intParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784342"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784346"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784346"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int16
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int16) -&gt; Text -&gt; Either Text Int16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int16&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784346"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679784353"><span class="annot"><span class="annottext">toPersistValue :: Int32 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (Int32 -&gt; Int64) -&gt; Int32 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679784368"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Int32
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784369"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784369"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Either Text Int32
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Either Text Int32) -&gt; Int32 -&gt; Either Text Int32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Int32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784369"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784370"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784370"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Either Text Int32
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Int32
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784370"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784371"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784371"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">readInt</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784371"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-167"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784372"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784372"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Either Text Int32
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Either Text Int32) -&gt; Int32 -&gt; Either Text Int32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784372"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-168"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784373"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784373"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784374"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784374"><span class="hs-identifier hs-var">extra</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int32
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int32) -&gt; Text -&gt; Either Text Int32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Int -&gt; ByteString -&gt; Text
forall result.
Show result =&gt;
Text -&gt; ByteString -&gt; result -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#extraInputError"><span class="hs-identifier hs-var">extraInputError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784371"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784373"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784374"><span class="hs-identifier hs-var">extra</span></a></span><span>
</span><span id="line-169"></span><span>                                               </span><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int32
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int32) -&gt; Text -&gt; Either Text Int32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#intParseError"><span class="hs-identifier hs-var">intParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784371"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784375"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784375"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int32
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int32) -&gt; Text -&gt; Either Text Int32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int32&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784375"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>    </span><span id="local-6989586621679784379"><span class="annot"><span class="annottext">toPersistValue :: Int64 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span>
</span><span id="line-174"></span><span>    </span><span id="local-6989586621679784391"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Int64
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784392"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784392"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Either Text Int64
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784392"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784393"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784393"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Either Text Int64
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Int64
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784393"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784394"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784394"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">readInt</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784394"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- oracle</span><span>
</span><span id="line-177"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784395"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784395"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Either Text Int64
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Either Text Int64) -&gt; Int64 -&gt; Either Text Int64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784395"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-178"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784396"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784396"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784397"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784397"><span class="hs-identifier hs-var">extra</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int64
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int64) -&gt; Text -&gt; Either Text Int64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Int -&gt; ByteString -&gt; Text
forall result.
Show result =&gt;
Text -&gt; ByteString -&gt; result -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#extraInputError"><span class="hs-identifier hs-var">extraInputError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784394"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679784396"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784397"><span class="hs-identifier hs-var">extra</span></a></span><span>
</span><span id="line-179"></span><span>                                               </span><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int64
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int64) -&gt; Text -&gt; Either Text Int64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#intParseError"><span class="hs-identifier hs-var">intParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784394"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784398"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784398"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Int64
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Int64) -&gt; Text -&gt; Either Text Int64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784398"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span id="local-6989586621679784020"><span class="annot"><a href="Database.Persist.Class.PersistField.html#extraInputError"><span class="hs-identifier hs-type">extraInputError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679784020"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Haskell type</span></span><span>
</span><span id="line-184"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Original bytestring</span></span><span>
</span><span id="line-185"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679784020"><span class="hs-identifier hs-type">result</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Integer result</span></span><span>
</span><span id="line-186"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^  Extra bytestring</span></span><span>
</span><span id="line-187"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Error message</span></span><span>
</span><span id="line-188"></span><span id="extraInputError"><span class="annot"><span class="annottext">extraInputError :: forall result.
Show result =&gt;
Text -&gt; ByteString -&gt; result -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#extraInputError"><span class="hs-identifier hs-var hs-var">extraInputError</span></a></span></span><span> </span><span id="local-6989586621679784405"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784405"><span class="hs-identifier hs-var">haskellType</span></a></span></span><span> </span><span id="local-6989586621679784406"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784406"><span class="hs-identifier hs-var">original</span></a></span></span><span> </span><span id="local-6989586621679784407"><span class="annot"><span class="annottext">result
</span><a href="#local-6989586621679784407"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span id="local-6989586621679784408"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784408"><span class="hs-identifier hs-var">extra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.concat</span></span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Parsed &quot;</span></span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">TE.decodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784406"><span class="hs-identifier hs-var">original</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; into Haskell type `&quot;</span></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784405"><span class="hs-identifier hs-var">haskellType</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;` with value&quot;</span></span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Text) -&gt; [Char] -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">result -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">result
</span><a href="#local-6989586621679784407"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;but had extra input: &quot;</span></span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">TE.decodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784408"><span class="hs-identifier hs-var">extra</span></a></span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#intParseError"><span class="hs-identifier hs-type">intParseError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Haskell type</span></span><span>
</span><span id="line-200"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Original bytestring</span></span><span>
</span><span id="line-201"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Error message</span></span><span>
</span><span id="line-202"></span><span id="intParseError"><span class="annot"><span class="annottext">intParseError :: Text -&gt; ByteString -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#intParseError"><span class="hs-identifier hs-var hs-var">intParseError</span></a></span></span><span> </span><span id="local-6989586621679784411"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784411"><span class="hs-identifier hs-var">haskellType</span></a></span></span><span> </span><span id="local-6989586621679784412"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784412"><span class="hs-identifier hs-var">original</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.concat</span></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Failed to parse Haskell type `&quot;</span></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784411"><span class="hs-identifier hs-var">haskellType</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; from &quot;</span></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">TE.decodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784412"><span class="hs-identifier hs-var">original</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Data.Word.Word</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621679784419"><span class="annot"><span class="annottext">toPersistValue :: Word -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue) -&gt; (Word -&gt; Int64) -&gt; Word -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679784425"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Word
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784426"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784426"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Either Text Word
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Word -&gt; Either Text Word) -&gt; Word -&gt; Either Text Word
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784426"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784427"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784427"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Word
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Word) -&gt; Text -&gt; Either Text Word
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Word&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784427"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621679784434"><span class="annot"><span class="annottext">toPersistValue :: Word8 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (Word8 -&gt; Int64) -&gt; Word8 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-216"></span><span>    </span><span id="local-6989586621679784440"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Word8
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784441"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784441"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Either Text Word8
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Either Text Word8) -&gt; Word8 -&gt; Either Text Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784441"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784442"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784442"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Word8
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Word8) -&gt; Text -&gt; Either Text Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Word8&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784442"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-220"></span><span>    </span><span id="local-6989586621679784449"><span class="annot"><span class="annottext">toPersistValue :: Word16 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (Word16 -&gt; Int64) -&gt; Word16 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621679784455"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Word16
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784456"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784456"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Either Text Word16
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; Either Text Word16) -&gt; Word16 -&gt; Either Text Word16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Word16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784456"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784457"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784457"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Word16
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Word16) -&gt; Text -&gt; Either Text Word16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Word16&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784457"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621679784464"><span class="annot"><span class="annottext">toPersistValue :: Word32 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (Word32 -&gt; Int64) -&gt; Word32 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621679784470"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Word32
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784471"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784471"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Either Text Word32
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Either Text Word32) -&gt; Word32 -&gt; Either Text Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784471"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784472"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784472"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Word32
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Word32) -&gt; Text -&gt; Either Text Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Word32&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784472"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621679784479"><span class="annot"><span class="annottext">toPersistValue :: Word64 -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-var">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (Word64 -&gt; Int64) -&gt; Word64 -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-231"></span><span>    </span><span id="local-6989586621679784485"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Word64
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784486"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784486"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Either Text Word64
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Either Text Word64) -&gt; Word64 -&gt; Either Text Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784486"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784487"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784487"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Word64
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Word64) -&gt; Text -&gt; Either Text Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Word64&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784487"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621679784491"><span class="annot"><span class="annottext">toPersistValue :: Double -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-var">PersistDouble</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679784499"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Double
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784500"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784500"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Either Text Double
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784500"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistRational"><span class="hs-identifier hs-type">PersistRational</span></a></span><span> </span><span id="local-6989586621679784501"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784501"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Either Text Double
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Either Text Double) -&gt; Double -&gt; Either Text Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784501"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784502"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784502"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Either Text Double
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Either Text Double) -&gt; Double -&gt; Either Text Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784502"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784503"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784503"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Double
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Double) -&gt; Text -&gt; Either Text Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Double&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;double, rational, or integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784503"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784026"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasResolution</span></span><span> </span><span class="annot"><a href="#local-6989586621679784026"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fixed</span></span><span> </span><span class="annot"><a href="#local-6989586621679784026"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>    </span><span id="local-6989586621679784510"><span class="annot"><span class="annottext">toPersistValue :: Fixed a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistRational"><span class="hs-identifier hs-var">PersistRational</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; PersistValue)
-&gt; (Fixed a -&gt; Rational) -&gt; Fixed a -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Fixed a -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621679784535"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (Fixed a)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistRational"><span class="hs-identifier hs-type">PersistRational</span></a></span><span> </span><span id="local-6989586621679784536"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784536"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fixed a -&gt; Either Text (Fixed a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Fixed a -&gt; Either Text (Fixed a))
-&gt; Fixed a -&gt; Either Text (Fixed a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Fixed a
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784536"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784537"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784537"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS (Fixed a)
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS (Fixed a) -&gt; ReadS (Fixed a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784537"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-comment">--  NOTE: Sqlite can store rationals just as string</span><span>
</span><span id="line-245"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621679784539"><span class="annot"><span class="annottext">Fixed a
</span><a href="#local-6989586621679784539"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Fixed a -&gt; Either Text (Fixed a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Fixed a
</span><a href="#local-6989586621679784539"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><span class="annottext">[(Fixed a, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text (Fixed a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text (Fixed a)) -&gt; Text -&gt; Either Text (Fixed a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Can not read &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784537"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; as Fixed&quot;</span></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784540"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784540"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fixed a -&gt; Either Text (Fixed a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Fixed a -&gt; Either Text (Fixed a))
-&gt; Fixed a -&gt; Either Text (Fixed a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Fixed a
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784540"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784541"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784541"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fixed a -&gt; Either Text (Fixed a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Fixed a -&gt; Either Text (Fixed a))
-&gt; Fixed a -&gt; Either Text (Fixed a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Fixed a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784541"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784542"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784542"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text (Fixed a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text (Fixed a)) -&gt; Text -&gt; Either Text (Fixed a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Fixed&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;rational, string, double, or integer&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784542"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621679784546"><span class="annot"><span class="annottext">toPersistValue :: Rational -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistRational"><span class="hs-identifier hs-var">PersistRational</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621679784593"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Rational
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistRational"><span class="hs-identifier hs-type">PersistRational</span></a></span><span> </span><span id="local-6989586621679784594"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784594"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Either Text Rational
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679784594"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDouble"><span class="hs-identifier hs-type">PersistDouble</span></a></span><span> </span><span id="local-6989586621679784595"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784595"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Either Text Rational
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Either Text Rational)
-&gt; Rational -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784595"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784596"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784596"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS Pico
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS Pico -&gt; ReadS Pico
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784596"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-comment">--  NOTE: Sqlite can store rationals just as string</span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621679784597"><span class="annot"><span class="annottext">Pico
</span><a href="#local-6989586621679784597"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Either Text Rational
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Either Text Rational)
-&gt; Rational -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pico -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pico
</span><a href="#local-6989586621679784597"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pico</span></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><span class="annottext">[(Pico, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Rational
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Rational) -&gt; Text -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Can not read &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784596"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; as Rational (Pico in fact)&quot;</span></span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784598"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784598"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Either Text Rational
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Either Text Rational)
-&gt; Rational -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784598"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784599"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784599"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Reader Double
</span><span class="hs-identifier hs-var">double</span></span><span> </span><span class="annot"><span class="annottext">Reader Double -&gt; Reader Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.cons</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'0'</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">OnDecodeError -&gt; ByteString -&gt; Text
</span><span class="hs-identifier hs-var">TE.decodeUtf8With</span></span><span> </span><span class="annot"><span class="annottext">OnDecodeError
</span><span class="hs-identifier hs-var">TERR.lenientDecode</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784599"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-260"></span><span>                                                </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784601"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784601"><span class="hs-identifier hs-var">ret</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Either Text Rational
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Either Text Rational)
-&gt; Rational -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784601"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-261"></span><span>                                                </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784602"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784602"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784603"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784603"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Rational
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Rational) -&gt; Text -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid bytestring[&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784599"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;]: expected a double but returned &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Double, Text) -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679784602"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784603"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>                                                </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679784604"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679784604"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Rational
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Rational) -&gt; Text -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid bytestring[&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784599"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;]: expected a double but returned &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679784604"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784605"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784605"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Rational
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Rational) -&gt; Text -&gt; Either Text Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Rational&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;rational, double, string, integer, or bytestring&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784605"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-266"></span><span>    </span><span id="local-6989586621679784609"><span class="annot"><span class="annottext">toPersistValue :: Bool -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistBool"><span class="hs-identifier hs-var">PersistBool</span></a></span><span>
</span><span id="line-267"></span><span>    </span><span id="local-6989586621679784633"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Bool
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistBool"><span class="hs-identifier hs-type">PersistBool</span></a></span><span> </span><span id="local-6989586621679784634"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679784634"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Either Text Bool
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679784634"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784635"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784635"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Either Text Bool
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Either Text Bool) -&gt; Bool -&gt; Either Text Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784635"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Int64 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-269"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784637"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784637"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">readInt</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784637"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-270"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Either Text Bool
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-271"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Either Text Bool
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-272"></span><span>                                               </span><span id="local-6989586621679784638"><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><a href="#local-6989586621679784638"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Bool
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Bool) -&gt; Text -&gt; Either Text Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Text) -&gt; [Char] -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Failed to parse Haskell type `Bool` from PersistByteString. Original value:&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784637"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;. Parsed by `readInt` as &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Int, ByteString) -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><a href="#local-6989586621679784638"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;. Expected '1'.&quot;</span></span><span>
</span><span id="line-273"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784639"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784639"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Bool
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Bool) -&gt; Text -&gt; Either Text Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Bool&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;boolean, integer, or bytestring of '1' or '0'&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784639"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621679784643"><span class="annot"><span class="annottext">toPersistValue :: Day -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Day -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistDay"><span class="hs-identifier hs-var">PersistDay</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span id="local-6989586621679784654"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Day
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistDay"><span class="hs-identifier hs-type">PersistDay</span></a></span><span> </span><span id="local-6989586621679784655"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784655"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Day -&gt; Either Text Day
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784655"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span id="local-6989586621679784656"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784656"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Day -&gt; Either Text Day
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Day -&gt; Either Text Day) -&gt; Day -&gt; Either Text Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Day
</span><span class="hs-identifier hs-var">ModifiedJulianDay</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Day) -&gt; Integer -&gt; Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784656"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784658"><span class="annot"><span class="annottext">x :: PersistValue
</span><a href="#local-6989586621679784658"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784659"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784659"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS Day
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS Day -&gt; ReadS Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784659"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-281"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679784660"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784660"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(Day, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day -&gt; Either Text Day
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784660"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-282"></span><span>            </span><span class="annot"><span class="annottext">[(Day, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Day
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Day) -&gt; Text -&gt; Either Text Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue -&gt; Text
forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var">fromPersistValueParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Day&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784658"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784662"><span class="annot"><span class="annottext">x :: PersistValue
</span><a href="#local-6989586621679784662"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784663"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784663"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS Day
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS Day -&gt; ReadS Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
</span><span class="hs-identifier hs-var">unpack</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784663"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-285"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679784664"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784664"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(Day, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day -&gt; Either Text Day
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679784664"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-286"></span><span>            </span><span class="annot"><span class="annottext">[(Day, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Day
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Day) -&gt; Text -&gt; Either Text Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue -&gt; Text
forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var">fromPersistValueParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Day&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784662"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784665"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784665"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Day
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Day) -&gt; Text -&gt; Either Text Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Day&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;day, integer, string or bytestring&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784665"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TimeOfDay</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621679784669"><span class="annot"><span class="annottext">toPersistValue :: TimeOfDay -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistTimeOfDay"><span class="hs-identifier hs-var">PersistTimeOfDay</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621679784679"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text TimeOfDay
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistTimeOfDay"><span class="hs-identifier hs-type">PersistTimeOfDay</span></a></span><span> </span><span id="local-6989586621679784680"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784680"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; Either Text TimeOfDay
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784680"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784681"><span class="annot"><span class="annottext">x :: PersistValue
</span><a href="#local-6989586621679784681"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784682"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784682"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS TimeOfDay
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS TimeOfDay -&gt; ReadS TimeOfDay
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784682"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-294"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679784683"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784683"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(TimeOfDay, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; Either Text TimeOfDay
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784683"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-295"></span><span>            </span><span class="annot"><span class="annottext">[(TimeOfDay, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text TimeOfDay
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text TimeOfDay) -&gt; Text -&gt; Either Text TimeOfDay
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue -&gt; Text
forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var">fromPersistValueParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;TimeOfDay&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784681"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784684"><span class="annot"><span class="annottext">x :: PersistValue
</span><a href="#local-6989586621679784684"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784685"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784685"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-297"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS TimeOfDay
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS TimeOfDay -&gt; ReadS TimeOfDay
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
</span><span class="hs-identifier hs-var">unpack</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784685"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-298"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679784686"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784686"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(TimeOfDay, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; Either Text TimeOfDay
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679784686"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-299"></span><span>            </span><span class="annot"><span class="annottext">[(TimeOfDay, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text TimeOfDay
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text TimeOfDay) -&gt; Text -&gt; Either Text TimeOfDay
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue -&gt; Text
forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var">fromPersistValueParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;TimeOfDay&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784684"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784687"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784687"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text TimeOfDay
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text TimeOfDay) -&gt; Text -&gt; Either Text TimeOfDay
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;TimeOfDay&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;time, string, or bytestring&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784687"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621679784691"><span class="annot"><span class="annottext">toPersistValue :: UTCTime -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistUTCTime"><span class="hs-identifier hs-var">PersistUTCTime</span></a></span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621679784703"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text UTCTime
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistUTCTime"><span class="hs-identifier hs-type">PersistUTCTime</span></a></span><span> </span><span id="local-6989586621679784704"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784704"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Either Text UTCTime
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784704"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-cpp">
#ifdef HIGH_PRECISION_DATE
</span><span>    </span><span class="hs-identifier">fromPersistValue</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PersistInt64</span><span> </span><span class="hs-identifier">i</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Right</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">posixSecondsToUTCTime</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-special">(</span><span class="hs-operator">/</span><span> </span><span class="hs-special">(</span><span class="hs-number">1000</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-number">1000</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-number">1000</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">i</span><span class="hs-cpp">
#endif
</span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784705"><span class="annot"><span class="annottext">x :: PersistValue
</span><a href="#local-6989586621679784705"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784706"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784706"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-309"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679784707"><span class="annot"><span class="annottext">s :: [Char]
</span><a href="#local-6989586621679784707"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784706"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-311"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[(UTCTime, [Char])] -&gt; Maybe (NonEmpty (UTCTime, [Char]))
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NonEmpty.nonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReadS UTCTime
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679784707"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-312"></span><span>            </span><span class="annot"><span class="annottext">Maybe (NonEmpty (UTCTime, [Char]))
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-313"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784709"><span class="hs-identifier hs-var">parse8601</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679784707"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe UTCTime -&gt; Maybe UTCTime -&gt; Maybe UTCTime
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784710"><span class="hs-identifier hs-var">parsePretty</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679784707"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-314"></span><span>                    </span><span class="annot"><span class="annottext">Maybe UTCTime
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text UTCTime
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text UTCTime) -&gt; Text -&gt; Either Text UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue -&gt; Text
forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var">fromPersistValueParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UTCTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784705"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-315"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679784711"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784711"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Either Text UTCTime
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784711"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-316"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679784712"><span class="annot"><span class="annottext">NonEmpty (UTCTime, [Char])
</span><a href="#local-6989586621679784712"><span class="hs-identifier hs-var">matches</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-317"></span><span>                </span><span class="hs-comment">-- The 'Read UTCTime' instance in newer versions of 'time' is</span><span>
</span><span id="line-318"></span><span>                </span><span class="hs-comment">-- more flexible when parsing UTCTime strings and will return</span><span>
</span><span id="line-319"></span><span>                </span><span class="hs-comment">-- UTCTimes with different microsecond parsings. The last result</span><span>
</span><span id="line-320"></span><span>                </span><span class="hs-comment">-- here contains the parsed UTCTime with as much microsecond</span><span>
</span><span id="line-321"></span><span>                </span><span class="hs-comment">-- precision parsed as posssible.</span><span>
</span><span id="line-322"></span><span>                </span><span class="annot"><span class="annottext">UTCTime -&gt; Either Text UTCTime
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; Either Text UTCTime) -&gt; UTCTime -&gt; Either Text UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UTCTime, [Char]) -&gt; UTCTime
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((UTCTime, [Char]) -&gt; UTCTime) -&gt; (UTCTime, [Char]) -&gt; UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (UTCTime, [Char]) -&gt; (UTCTime, [Char])
forall a. NonEmpty a -&gt; a
</span><span class="hs-identifier hs-var">NonEmpty.last</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (UTCTime, [Char])
</span><a href="#local-6989586621679784712"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_time(1,5,0)
</span><span>        </span><span id="local-6989586621679784725"><span class="annot"><span class="annottext">parseTime' :: [Char] -&gt; [Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784725"><span class="hs-identifier hs-var hs-var">parseTime'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; TimeLocale -&gt; [Char] -&gt; [Char] -&gt; Maybe UTCTime
forall (m :: * -&gt; *) t.
(MonadFail m, ParseTime t) =&gt;
Bool -&gt; TimeLocale -&gt; [Char] -&gt; [Char] -&gt; m t
</span><span class="hs-identifier hs-var">parseTimeM</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">TimeLocale
</span><span class="hs-identifier hs-var">defaultTimeLocale</span></span><span class="hs-cpp">
#else
</span><span>        </span><span class="hs-identifier">parseTime'</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">parseTime</span><span> </span><span class="hs-identifier">defaultTimeLocale</span><span class="hs-cpp">
#endif
</span><span>        </span><span id="local-6989586621679784709"><span class="annot"><span class="annottext">parse8601 :: [Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784709"><span class="hs-identifier hs-var hs-var">parse8601</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784725"><span class="hs-identifier hs-var">parseTime'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;%FT%T%Q&quot;</span></span><span>
</span><span id="line-330"></span><span>        </span><span id="local-6989586621679784710"><span class="annot"><span class="annottext">parsePretty :: [Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784710"><span class="hs-identifier hs-var hs-var">parsePretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Maybe UTCTime
</span><a href="#local-6989586621679784725"><span class="hs-identifier hs-var">parseTime'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;%F %T%Q&quot;</span></span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784726"><span class="annot"><span class="annottext">x :: PersistValue
</span><a href="#local-6989586621679784726"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784727"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784727"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-332"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS UTCTime
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">ReadS UTCTime -&gt; ReadS UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
</span><span class="hs-identifier hs-var">unpack</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784727"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-333"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679784728"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784728"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(UTCTime, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Either Text UTCTime
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679784728"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-334"></span><span>            </span><span class="annot"><span class="annottext">[(UTCTime, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text UTCTime
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text UTCTime) -&gt; Text -&gt; Either Text UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PersistValue -&gt; Text
forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var">fromPersistValueParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UTCTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784726"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784729"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784729"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text UTCTime
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text UTCTime) -&gt; Text -&gt; Either Text UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UTCTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;time, integer, string, or bytestring&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784729"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-comment">-- | Prior to @persistent-2.11.0@, we provided an instance of</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- 'PersistField' for the 'Natural' type. This was in error, because</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- 'Natural' represents an infinite value, and databases don't have</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- reasonable types for this.</span><span>
</span><span id="line-342"></span><span class="hs-comment">--</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- The instance for 'Natural' used the 'Int64' underlying type, which will</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- cause underflow and overflow errors. This type has the exact same code</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- in the instances, and will work seamlessly.</span><span>
</span><span id="line-346"></span><span class="hs-comment">--</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- A more appropriate type for this is the 'Word' series of types from</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- &quot;Data.Word&quot;. These have a bounded size, are guaranteed to be</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- non-negative, and are quite efficient for the database to store.</span><span>
</span><span id="line-350"></span><span class="hs-comment">--</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-352"></span><span class="hs-keyword">newtype</span><span> </span><span id="OverflowNatural"><span class="annot"><a href="Database.Persist.Class.PersistField.html#OverflowNatural"><span class="hs-identifier hs-var">OverflowNatural</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OverflowNatural"><span class="annot"><a href="Database.Persist.Class.PersistField.html#OverflowNatural"><span class="hs-identifier hs-var">OverflowNatural</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unOverflowNatural"><span class="annot"><span class="annottext">OverflowNatural -&gt; Natural
</span><a href="Database.Persist.Class.PersistField.html#unOverflowNatural"><span class="hs-identifier hs-var hs-var">unOverflowNatural</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784733"><span id="local-6989586621679784738"><span class="annot"><span class="annottext">OverflowNatural -&gt; OverflowNatural -&gt; Bool
(OverflowNatural -&gt; OverflowNatural -&gt; Bool)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; Bool)
-&gt; Eq OverflowNatural
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
== :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
$c/= :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
/= :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679784744"><span id="local-6989586621679784750"><span id="local-6989586621679784754"><span class="annot"><span class="annottext">Int -&gt; OverflowNatural -&gt; [Char] -&gt; [Char]
[OverflowNatural] -&gt; [Char] -&gt; [Char]
OverflowNatural -&gt; [Char]
(Int -&gt; OverflowNatural -&gt; [Char] -&gt; [Char])
-&gt; (OverflowNatural -&gt; [Char])
-&gt; ([OverflowNatural] -&gt; [Char] -&gt; [Char])
-&gt; Show OverflowNatural
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
$cshowsPrec :: Int -&gt; OverflowNatural -&gt; [Char] -&gt; [Char]
showsPrec :: Int -&gt; OverflowNatural -&gt; [Char] -&gt; [Char]
$cshow :: OverflowNatural -&gt; [Char]
show :: OverflowNatural -&gt; [Char]
$cshowList :: [OverflowNatural] -&gt; [Char] -&gt; [Char]
showList :: [OverflowNatural] -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679784760"><span id="local-6989586621679784765"><span id="local-6989586621679784769"><span id="local-6989586621679784773"><span id="local-6989586621679784777"><span id="local-6989586621679784781"><span id="local-6989586621679784785"><span class="annot"><span class="annottext">Eq OverflowNatural
Eq OverflowNatural =&gt;
(OverflowNatural -&gt; OverflowNatural -&gt; Ordering)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; Bool)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; Bool)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; Bool)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; Bool)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural)
-&gt; Ord OverflowNatural
OverflowNatural -&gt; OverflowNatural -&gt; Bool
OverflowNatural -&gt; OverflowNatural -&gt; Ordering
OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: OverflowNatural -&gt; OverflowNatural -&gt; Ordering
compare :: OverflowNatural -&gt; OverflowNatural -&gt; Ordering
$c&lt; :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
&lt; :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
$c&lt;= :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
&lt;= :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
$c&gt; :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
&gt; :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
$c&gt;= :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
&gt;= :: OverflowNatural -&gt; OverflowNatural -&gt; Bool
$cmax :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
max :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
$cmin :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
min :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679784791"><span id="local-6989586621679784796"><span id="local-6989586621679784800"><span id="local-6989586621679784804"><span id="local-6989586621679784808"><span id="local-6989586621679784812"><span id="local-6989586621679784816"><span class="annot"><span class="annottext">Integer -&gt; OverflowNatural
OverflowNatural -&gt; OverflowNatural
OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
(OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural)
-&gt; (OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural)
-&gt; (OverflowNatural -&gt; OverflowNatural)
-&gt; (OverflowNatural -&gt; OverflowNatural)
-&gt; (OverflowNatural -&gt; OverflowNatural)
-&gt; (Integer -&gt; OverflowNatural)
-&gt; Num OverflowNatural
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
$c+ :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
+ :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
$c- :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
- :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
$c* :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
* :: OverflowNatural -&gt; OverflowNatural -&gt; OverflowNatural
$cnegate :: OverflowNatural -&gt; OverflowNatural
negate :: OverflowNatural -&gt; OverflowNatural
$cabs :: OverflowNatural -&gt; OverflowNatural
abs :: OverflowNatural -&gt; OverflowNatural
$csignum :: OverflowNatural -&gt; OverflowNatural
signum :: OverflowNatural -&gt; OverflowNatural
$cfromInteger :: Integer -&gt; OverflowNatural
fromInteger :: Integer -&gt; OverflowNatural
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-356"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;The instance of PersistField for the Natural type was removed.&quot;</span></span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Please see the documentation for OverflowNatural if you want to &quot;</span></span><span>
</span><span id="line-359"></span><span>    </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;continue using the old behavior or want to see documentation on &quot;</span></span><span>
</span><span id="line-360"></span><span>    </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;why the instance was removed.&quot;</span></span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;This error instance will be removed in a future release.&quot;</span></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-365"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>    </span><span id="local-6989586621679784827"><span class="annot"><span class="annottext">toPersistValue :: Natural -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; PersistValue
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621679784831"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Natural
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text Natural
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#OverflowNatural"><span class="hs-identifier hs-type">OverflowNatural</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-371"></span><span>  </span><span id="local-6989586621679784839"><span class="annot"><span class="annottext">toPersistValue :: OverflowNatural -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PersistValue)
-&gt; (OverflowNatural -&gt; Int64) -&gt; OverflowNatural -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Int64)
-&gt; (OverflowNatural -&gt; Natural) -&gt; OverflowNatural -&gt; Int64
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">OverflowNatural -&gt; Natural
</span><a href="Database.Persist.Class.PersistField.html#unOverflowNatural"><span class="hs-identifier hs-var">unOverflowNatural</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span id="local-6989586621679784847"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text OverflowNatural
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span id="local-6989586621679784848"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784848"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text Int64
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784848"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-373"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679784849"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784849"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text OverflowNatural
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text OverflowNatural)
-&gt; Text -&gt; Either Text OverflowNatural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Text -&gt; Text -&gt; Text -&gt; Text
Text -&gt; Text -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.replace</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;OverflowNatural&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784849"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-374"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679784851"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784851"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OverflowNatural -&gt; Either Text OverflowNatural
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(OverflowNatural -&gt; Either Text OverflowNatural)
-&gt; OverflowNatural -&gt; Either Text OverflowNatural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; OverflowNatural
</span><a href="Database.Persist.Class.PersistField.html#OverflowNatural"><span class="hs-identifier hs-var">OverflowNatural</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; OverflowNatural) -&gt; Natural -&gt; OverflowNatural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679784851"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="hs-comment">-- TODO use bimap?</span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784076"><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784076"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679784076"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621679784857"><span class="annot"><span class="annottext">toPersistValue :: Maybe a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679784858"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679784858"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679784858"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679784861"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (Maybe a)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Either Text (Maybe a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784862"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784862"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Either Text a -&gt; Either Text (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text a
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784862"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679784078"><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784078"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679784078"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621679784870"><span class="annot"><span class="annottext">toPersistValue :: [a] -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistList"><span class="hs-identifier hs-var">PersistList</span></a></span><span> </span><span class="annot"><span class="annottext">([PersistValue] -&gt; PersistValue)
-&gt; ([a] -&gt; [PersistValue]) -&gt; [a] -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; PersistValue) -&gt; [a] -&gt; [PersistValue]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span>
</span><span id="line-384"></span><span>    </span><span id="local-6989586621679784877"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text [a]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistList"><span class="hs-identifier hs-type">PersistList</span></a></span><span> </span><span id="local-6989586621679784878"><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784878"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; Either Text [a]
forall a. PersistField a =&gt; [PersistValue] -&gt; Either Text [a]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistList"><span class="hs-identifier hs-var">fromPersistList</span></a></span><span> </span><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784878"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784880"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784880"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text [a]
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-var">PersistByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; PersistValue) -&gt; ByteString -&gt; PersistValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">TE.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784880"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784881"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784881"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679784882"><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784882"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe [PersistValue]
forall a. FromJSON a =&gt; ByteString -&gt; Maybe a
</span><span class="hs-identifier hs-var">A.decode'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><span class="hs-identifier hs-var">L.fromChunks</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784881"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; Either Text [a]
forall a. PersistField a =&gt; [PersistValue] -&gt; Either Text [a]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistList"><span class="hs-identifier hs-var">fromPersistList</span></a></span><span> </span><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784882"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-comment">-- avoid the need for a migration to fill in empty lists.</span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-comment">-- also useful when Persistent is not the only one filling in the data</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Either Text [a]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784885"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784885"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [a]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [a]) -&gt; Text -&gt; Either Text [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;List&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;list, string, bytestring or null&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784885"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784084"><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784084"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679784084"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-394"></span><span>  </span><span id="local-6989586621679784891"><span class="annot"><span class="annottext">toPersistValue :: Vector a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; PersistValue)
-&gt; (Vector a -&gt; [a]) -&gt; Vector a -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Vector a -&gt; [a]
forall a. Vector a -&gt; [a]
</span><span class="hs-identifier hs-var">V.toList</span></span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679784895"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (Vector a)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text (Vector a))
-&gt; ([a] -&gt; Either Text (Vector a))
-&gt; Either Text [a]
-&gt; Either Text (Vector a)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679784897"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784897"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text (Vector a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Failed to parse Haskell type `Vector`: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">`T.append`</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784897"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector a -&gt; Either Text (Vector a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Vector a -&gt; Either Text (Vector a))
-&gt; ([a] -&gt; Vector a) -&gt; [a] -&gt; Either Text (Vector a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Vector a
forall a. [a] -&gt; Vector a
</span><span class="hs-identifier hs-var">V.fromList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either Text [a] -&gt; Either Text (Vector a))
-&gt; (PersistValue -&gt; Either Text [a])
-&gt; PersistValue
-&gt; Either Text (Vector a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text [a]
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784092"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679784092"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784092"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679784092"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-399"></span><span>    </span><span id="local-6989586621679784907"><span class="annot"><span class="annottext">toPersistValue :: Set a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistList"><span class="hs-identifier hs-var">PersistList</span></a></span><span> </span><span class="annot"><span class="annottext">([PersistValue] -&gt; PersistValue)
-&gt; (Set a -&gt; [PersistValue]) -&gt; Set a -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; PersistValue) -&gt; [a] -&gt; [PersistValue]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [PersistValue])
-&gt; (Set a -&gt; [a]) -&gt; Set a -&gt; [PersistValue]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; [a]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621679784919"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (Set a)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistList"><span class="hs-identifier hs-type">PersistList</span></a></span><span> </span><span id="local-6989586621679784920"><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784920"><span class="hs-identifier hs-var">list</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-401"></span><span>      </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Set a) -&gt; Either Text [a] -&gt; Either Text (Set a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; Either Text [a]
forall a. PersistField a =&gt; [PersistValue] -&gt; Either Text [a]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistList"><span class="hs-identifier hs-var">fromPersistList</span></a></span><span> </span><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784920"><span class="hs-identifier hs-var">list</span></a></span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679784922"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784922"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text (Set a)
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-var">PersistByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; PersistValue) -&gt; ByteString -&gt; PersistValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">TE.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784922"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679784923"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784923"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679784924"><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784924"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe [PersistValue]
forall a. FromJSON a =&gt; ByteString -&gt; Maybe a
</span><span class="hs-identifier hs-var">A.decode'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><span class="hs-identifier hs-var">L.fromChunks</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679784923"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-405"></span><span>            </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Set a) -&gt; Either Text [a] -&gt; Either Text (Set a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; Either Text [a]
forall a. PersistField a =&gt; [PersistValue] -&gt; Either Text [a]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistList"><span class="hs-identifier hs-var">fromPersistList</span></a></span><span> </span><span class="annot"><span class="annottext">[PersistValue]
</span><a href="#local-6989586621679784924"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-406"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set a -&gt; Either Text (Set a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Set a
forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679784926"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784926"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text (Set a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text (Set a)) -&gt; Text -&gt; Either Text (Set a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Set&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;list, string, bytestring or null&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784926"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784098"><span id="local-6989586621679784099"><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784098"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784099"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679784098"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679784099"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>    </span><span id="local-6989586621679784934"><span class="annot"><span class="annottext">toPersistValue :: (a, b) -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679784935"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679784935"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784936"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679784936"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PersistValue] -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistList"><span class="hs-identifier hs-var">PersistList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679784935"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679784936"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-411"></span><span>    </span><span id="local-6989586621679784948"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (a, b)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span id="local-6989586621679784949"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784949"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-412"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text [PersistValue]
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784949"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-413"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679784950"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784950"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679784951"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784951"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; Either Text a -&gt; Either Text (b -&gt; (a, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text a
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784950"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Either Text (b -&gt; (a, b)) -&gt; Either Text b -&gt; Either Text (a, b)
forall a b. Either Text (a -&gt; b) -&gt; Either Text a -&gt; Either Text b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text b
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784951"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-414"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679784952"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784952"><span class="hs-identifier hs-var">e</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text (a, b)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679784952"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-415"></span><span>            </span><span class="annot"><span class="annottext">Either Text [PersistValue]
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text (a, b)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text (a, b)) -&gt; Text -&gt; Either Text (a, b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Text) -&gt; [Char] -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Expected 2 item PersistList, received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679784949"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784106"><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784106"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679784106"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-418"></span><span>    </span><span id="local-6989586621679784960"><span class="annot"><span class="annottext">toPersistValue :: IntMap v -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, v)] -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">([(Int, v)] -&gt; PersistValue)
-&gt; (IntMap v -&gt; [(Int, v)]) -&gt; IntMap v -&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IntMap v -&gt; [(Int, v)]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IM.toList</span></span><span>
</span><span id="line-419"></span><span>    </span><span id="local-6989586621679784966"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (IntMap v)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(Int, v)] -&gt; IntMap v)
-&gt; Either Text [(Int, v)] -&gt; Either Text (IntMap v)
forall a b. (a -&gt; b) -&gt; Either Text a -&gt; Either Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[(Int, v)] -&gt; IntMap v
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.fromList</span></span><span> </span><span class="annot"><span class="annottext">(Either Text [(Int, v)] -&gt; Either Text (IntMap v))
-&gt; (PersistValue -&gt; Either Text [(Int, v)])
-&gt; PersistValue
-&gt; Either Text (IntMap v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text [(Int, v)]
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679784111"><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784111"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><a href="#local-6989586621679784111"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-422"></span><span>    </span><span id="local-6989586621679784976"><span class="annot"><span class="annottext">toPersistValue :: Map Text v -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)] -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistMap"><span class="hs-identifier hs-var">PersistMap</span></a></span><span> </span><span class="annot"><span class="annottext">([(Text, PersistValue)] -&gt; PersistValue)
-&gt; (Map Text v -&gt; [(Text, PersistValue)])
-&gt; Map Text v
-&gt; PersistValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((Text, v) -&gt; (Text, PersistValue))
-&gt; [(Text, v)] -&gt; [(Text, PersistValue)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v -&gt; PersistValue) -&gt; (Text, v) -&gt; (Text, PersistValue)
forall b c d. (b -&gt; c) -&gt; (d, b) -&gt; (d, c)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (d, b) (d, c)
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; PersistValue
forall a. PersistField a =&gt; a -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Text, v)] -&gt; [(Text, PersistValue)])
-&gt; (Map Text v -&gt; [(Text, v)])
-&gt; Map Text v
-&gt; [(Text, PersistValue)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Map Text v -&gt; [(Text, v)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.toList</span></span><span>
</span><span id="line-423"></span><span>    </span><span id="local-6989586621679784981"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text (Map Text v)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)] -&gt; Either Text (Map Text v)
forall v.
PersistField v =&gt;
[(Text, PersistValue)] -&gt; Either Text (Map Text v)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistMap"><span class="hs-identifier hs-var">fromPersistMap</span></a></span><span> </span><span class="annot"><span class="annottext">([(Text, PersistValue)] -&gt; Either Text (Map Text v))
-&gt; (PersistValue -&gt; Either Text [(Text, PersistValue)])
-&gt; PersistValue
-&gt; Either Text (Map Text v)
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&lt;=&lt;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text [(Text, PersistValue)]
</span><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var">getPersistMap</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621679784985"><span class="annot"><span class="annottext">toPersistValue :: PersistValue -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; PersistValue
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-427"></span><span>    </span><span id="local-6989586621679784987"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text PersistValue
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text PersistValue
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span id="local-6989586621679784079"><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistList"><span class="hs-identifier hs-type">fromPersistList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784079"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679784079"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-430"></span><span id="fromPersistList"><span class="annot"><span class="annottext">fromPersistList :: forall a. PersistField a =&gt; [PersistValue] -&gt; Either Text [a]
</span><a href="Database.Persist.Class.PersistField.html#fromPersistList"><span class="hs-identifier hs-var hs-var">fromPersistList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PersistValue -&gt; Either Text a)
-&gt; [PersistValue] -&gt; Either Text [a]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text a
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span id="local-6989586621679784120"><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistMap"><span class="hs-identifier hs-type">fromPersistMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679784120"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-433"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-434"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><a href="#local-6989586621679784120"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-435"></span><span id="fromPersistMap"><span class="annot"><span class="annottext">fromPersistMap :: forall v.
PersistField v =&gt;
[(Text, PersistValue)] -&gt; Either Text (Map Text v)
</span><a href="Database.Persist.Class.PersistField.html#fromPersistMap"><span class="hs-identifier hs-var hs-var">fromPersistMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PersistValue -&gt; Either Text v)
-&gt; [(Text, v)]
-&gt; [(Text, PersistValue)]
-&gt; Either Text (Map Text v)
forall {a} {t} {a} {b}.
Ord a =&gt;
(t -&gt; Either a b) -&gt; [(a, b)] -&gt; [(a, t)] -&gt; Either a (Map a b)
</span><a href="#local-6989586621679784998"><span class="hs-identifier hs-var">foldShortLeft</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text v
forall a. PersistField a =&gt; PersistValue -&gt; Either Text a
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-436"></span><span>    </span><span class="hs-comment">-- a fold that short-circuits on Left.</span><span>
</span><span id="line-437"></span><span>    </span><span id="local-6989586621679784998"><span class="annot"><span class="annottext">foldShortLeft :: (t -&gt; Either a b) -&gt; [(a, b)] -&gt; [(a, t)] -&gt; Either a (Map a b)
</span><a href="#local-6989586621679784998"><span class="hs-identifier hs-var hs-var">foldShortLeft</span></a></span></span><span> </span><span id="local-6989586621679785004"><span class="annot"><span class="annottext">t -&gt; Either a b
</span><a href="#local-6989586621679785004"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(a, b)] -&gt; [(a, t)] -&gt; Either a (Map a b)
</span><a href="#local-6989586621679785005"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-438"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-439"></span><span>        </span><span id="local-6989586621679785005"><span class="annot"><span class="annottext">go :: [(a, b)] -&gt; [(a, t)] -&gt; Either a (Map a b)
</span><a href="#local-6989586621679785005"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679785006"><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621679785006"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map a b -&gt; Either a (Map a b)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Map a b -&gt; Either a (Map a b)) -&gt; Map a b -&gt; Either a (Map a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(a, b)] -&gt; Map a b
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">M.fromList</span></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621679785006"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><a href="#local-6989586621679785005"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679785008"><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621679785008"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679785009"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679785009"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679785010"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679785010"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679785011"><span class="annot"><span class="annottext">[(a, t)]
</span><a href="#local-6989586621679785011"><span class="hs-identifier hs-var">kvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-441"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">t -&gt; Either a b
</span><a href="#local-6989586621679785004"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679785010"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-442"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679785012"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679785012"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a (Map a b)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679785012"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-443"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679785013"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679785013"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(a, b)] -&gt; [(a, t)] -&gt; Either a (Map a b)
</span><a href="#local-6989586621679785005"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679785009"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679785013"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(a, b) -&gt; [(a, b)] -&gt; [(a, b)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621679785008"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, t)]
</span><a href="#local-6989586621679785011"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="annot"><span class="hs-comment">-- | FIXME Add documentation to that.</span></span><span>
</span><span id="line-446"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-type">getPersistMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-447"></span><span id="getPersistMap"><span class="annot"><span class="annottext">getPersistMap :: PersistValue -&gt; Either Text [(Text, PersistValue)]
</span><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var hs-var">getPersistMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistMap"><span class="hs-identifier hs-type">PersistMap</span></a></span><span> </span><span id="local-6989586621679785014"><span class="annot"><span class="annottext">[(Text, PersistValue)]
</span><a href="#local-6989586621679785014"><span class="hs-identifier hs-var">kvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)] -&gt; Either Text [(Text, PersistValue)]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)]
</span><a href="#local-6989586621679785014"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-448"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var">getPersistMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistText"><span class="hs-identifier hs-type">PersistText</span></a></span><span> </span><span id="local-6989586621679785015"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785015"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue -&gt; Either Text [(Text, PersistValue)]
</span><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var">getPersistMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-var">PersistByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; PersistValue) -&gt; ByteString -&gt; PersistValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">TE.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785015"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var">getPersistMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679785016"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679785016"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679785017"><span class="annot"><span class="annottext">[(Text, PersistValue)]
</span><a href="#local-6989586621679785017"><span class="hs-identifier hs-var">pairs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe [(Text, PersistValue)]
forall a. FromJSON a =&gt; ByteString -&gt; Maybe a
</span><span class="hs-identifier hs-var">A.decode'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><span class="hs-identifier hs-var">L.fromChunks</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679785016"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)] -&gt; Either Text [(Text, PersistValue)]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)]
</span><a href="#local-6989586621679785017"><span class="hs-identifier hs-var">pairs</span></a></span><span>
</span><span id="line-451"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var">getPersistMap</span></a></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, PersistValue)] -&gt; Either Text [(Text, PersistValue)]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-452"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#getPersistMap"><span class="hs-identifier hs-var">getPersistMap</span></a></span><span> </span><span id="local-6989586621679785018"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679785018"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text [(Text, PersistValue)]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text [(Text, PersistValue)])
-&gt; Text -&gt; Either Text [(Text, PersistValue)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;[(Text, PersistValue)]&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;map, string, bytestring or null&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679785018"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#PersistField"><span class="hs-identifier hs-type">PersistField</span></a></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-455"></span><span>    </span><span id="local-6989586621679785022"><span class="annot"><span class="annottext">toPersistValue :: Checkmark -&gt; PersistValue
</span><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPersistValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistBool"><span class="hs-identifier hs-var">PersistBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#toPersistValue"><span class="hs-identifier hs-var">toPersistValue</span></a></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621679785046"><span class="annot"><span class="annottext">fromPersistValue :: PersistValue -&gt; Either Text Checkmark
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPersistValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="Database.Persist.PersistValue.html#PersistNull"><span class="hs-identifier hs-var">PersistNull</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Either Text Checkmark
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistBool"><span class="hs-identifier hs-type">PersistBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Either Text Checkmark
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span>
</span><span id="line-459"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistInt64"><span class="hs-identifier hs-type">PersistInt64</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Either Text Checkmark
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span>
</span><span id="line-460"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistByteString"><span class="hs-identifier hs-type">PersistByteString</span></a></span><span> </span><span id="local-6989586621679785047"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679785047"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Int, ByteString)
</span><span class="hs-identifier hs-var">readInt</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679785047"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-461"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Checkmark
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Failed to parse Haskell type `Checkmark`: found `0`, expected `1` or NULL&quot;</span></span><span>
</span><span id="line-462"></span><span>                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Checkmark -&gt; Either Text Checkmark
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span>
</span><span id="line-463"></span><span>                                               </span><span id="local-6989586621679785048"><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><a href="#local-6989586621679785048"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Checkmark
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Checkmark) -&gt; Text -&gt; Either Text Checkmark
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Text) -&gt; [Char] -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Failed to parse Haskell type `Checkmark` from PersistByteString. Original value:&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679785047"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;. Parsed by `readInt` as &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Int, ByteString) -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Int, ByteString)
</span><a href="#local-6989586621679785048"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;. Expected '1'.&quot;</span></span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistBool"><span class="hs-identifier hs-type">PersistBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-465"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Either Text Checkmark
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Checkmark) -&gt; Text -&gt; Either Text Checkmark
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;PersistField Checkmark: found unexpected FALSE value&quot;</span></span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValue"><span class="hs-identifier hs-var">fromPersistValue</span></a></span><span> </span><span id="local-6989586621679785049"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679785049"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-467"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Either Text Checkmark
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Checkmark) -&gt; Text -&gt; Either Text Checkmark
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var">fromPersistValueError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Checkmark&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;boolean, integer, bytestring or null&quot;</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679785049"><span class="hs-identifier hs-var">other</span></a></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-type">fromPersistValueError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Haskell type, should match Haskell name exactly, e.g. &quot;Int64&quot;</span></span><span>
</span><span id="line-471"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Database type(s), should appear different from Haskell name, e.g. &quot;integer&quot; or &quot;INT&quot;, not &quot;Int&quot;.</span></span><span>
</span><span id="line-472"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier hs-type">PersistValue</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Incorrect value</span></span><span>
</span><span id="line-473"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Error message</span></span><span>
</span><span id="line-474"></span><span id="fromPersistValueError"><span class="annot"><span class="annottext">fromPersistValueError :: Text -&gt; Text -&gt; PersistValue -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueError"><span class="hs-identifier hs-var hs-var">fromPersistValueError</span></a></span></span><span> </span><span id="local-6989586621679785050"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785050"><span class="hs-identifier hs-var">haskellType</span></a></span></span><span> </span><span id="local-6989586621679785051"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785051"><span class="hs-identifier hs-var">databaseType</span></a></span></span><span> </span><span id="local-6989586621679785052"><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679785052"><span class="hs-identifier hs-var">received</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.concat</span></span><span>
</span><span id="line-475"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Failed to parse Haskell type `&quot;</span></span><span>
</span><span id="line-476"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785050"><span class="hs-identifier hs-var">haskellType</span></a></span><span>
</span><span id="line-477"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;`; expected &quot;</span></span><span>
</span><span id="line-478"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785051"><span class="hs-identifier hs-var">databaseType</span></a></span><span>
</span><span id="line-479"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; from database, but received: &quot;</span></span><span>
</span><span id="line-480"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PersistValue -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">PersistValue
</span><a href="#local-6989586621679785052"><span class="hs-identifier hs-var">received</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Potential solution: Check that your database schema matches your Persistent model definitions.&quot;</span></span><span>
</span><span id="line-482"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span id="local-6989586621679784057"><span class="annot"><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-type">fromPersistValueParseError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679784057"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>                           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Haskell type, should match Haskell name exactly, e.g. &quot;Int64&quot;</span></span><span>
</span><span id="line-486"></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679784057"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Received value</span></span><span>
</span><span id="line-487"></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Error message</span></span><span>
</span><span id="line-488"></span><span id="fromPersistValueParseError"><span class="annot"><span class="annottext">fromPersistValueParseError :: forall a. Show a =&gt; Text -&gt; a -&gt; Text
</span><a href="Database.Persist.Class.PersistField.html#fromPersistValueParseError"><span class="hs-identifier hs-var hs-var">fromPersistValueParseError</span></a></span></span><span> </span><span id="local-6989586621679785057"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785057"><span class="hs-identifier hs-var">haskellType</span></a></span></span><span> </span><span id="local-6989586621679785058"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679785058"><span class="hs-identifier hs-var">received</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.concat</span></span><span>
</span><span id="line-489"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Failed to parse Haskell type `&quot;</span></span><span>
</span><span id="line-490"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679785057"><span class="hs-identifier hs-var">haskellType</span></a></span><span>
</span><span id="line-491"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;`, but received &quot;</span></span><span>
</span><span id="line-492"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679785058"><span class="hs-identifier hs-var">received</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-494"></span></pre></body></html>