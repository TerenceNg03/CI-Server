# CI-Server

This is the repository of Group 9 for Assignment #2: Continuous Integration in DD2480.

![unit test](https://github.com/TerenceNg03/CI-Server/actions/workflows/test.yml/badge.svg)
![document](https://github.com/TerenceNg03/CI-Server/actions/workflows/docs.yml/badge.svg)
![coding style](https://github.com/TerenceNg03/CI-Server/actions/workflows/style.yml/badge.svg)

![Codecov](https://img.shields.io/codecov/c/github/TerenceNg03/CI-Server)
![GitHub issues](https://img.shields.io/github/issues/TerenceNg03/CI-Server)
![GitHub pull requests](https://img.shields.io/github/issues-pr/TerenceNg03/CI-Server)

## Usage

### Dependencies

Our server is written in Haskell and is managed using Stack, which can be installed [here](https://docs.haskellstack.org/en/stable/). We use [Maven](https://maven.apache.org/) as the package manager for our project, which can be installed with the following commands.

```sh
$ sudo apt update
$ sudo apt install maven
```

### Running the Server

With Stack installed and your working directory set to `CI-server/server`, the following commands can be run:

```sh
$ stack test # Run tests
$ stack build # Build the Stack project
$ stack run  # Run the web server (default config file is "./config.yaml")
$ stack run -- <Path to your config file> # Run the web server
```

With Maven installed, the following commands can be run from the root directory:

```sh
$ mvn package # Build the project and run unit tests
$ mvn test # Only run the tests without rebuild
$ mvn exec:java # Run the main function
$ mvn javadoc:javadoc # Generate documentation
```

### Further Dependencies

- Maven 3.6+ requires JDK 8 or above to execute.
- Additional Maven dependencies are configured in `pom.xml`.

## Coding Standard

We follow [Google's Java Style](https://github.com/diffplug/spotless/tree/main/plugin-maven#google-java-format) and enforce the standard via [Spotless](https://github.com/diffplug/spotless). For Haskell, we follow [Fourmolu's Haskell Style](https://fourmolu.github.io/) and enforce the standard via [Fourmolu](https://hackage.haskell.org/package/fourmolu).

## API Documentation

### Java

API Documentation is automated generated by [JavaDoc](https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html) and is deployed on [Github Pages](https://terenceng03.github.io/CI-Server/project-reports.html).

### Haskell

## Way of Working

#### Principles Established

- [x] Principles and constraints are committed to by the team.
- [x] Principles and constraints are agreed to by the stakeholders.
- [x] The tool needs of the work and its stakeholders are agreed.
- [x] A recommendation for the approach to be taken is available.
- [x] The context within which the team will operate is understood.
- [x] The constraints that apply to the selection, acquisition, and use of practices and tools are known.

#### Foundation Established

- [x] The key practices and tools that form the foundation of the way-of-working are selected.
- [x] Enough practices for work to start are agreed to by the team.
- [x] All non-negotiable practices and tools have been identified.
- [x] The gaps that exist between the practices and tools that are needed and the practices and tools that are available have been analyzed and understood.
- [x] The capability gaps that exist between what is needed to execute the desired way of working and the capability levels of the team have been analyzed and understood.
- [x] The selected practices and tools have been integrated to form a usable way-of-working.

#### In Use

- [x] The practices and tools are being used to do real work.
- [x] The use of the practices and tools selected are regularly inspected.
- [x] The practices and tools are being adapted to the team’s context.
- [x] The use of the practices and tools is supported by the team.
- [x] Procedures are in place to handle feedback on the team’s way of working.
- [x] The practices and tools support team communication and collaboration.

#### In Place

- [x] The practices and tools are being used by the whole team to perform their work.
- [x] All team members have access to the practices and tools required to do their work.
- [x] The whole team is involved in the inspection and adaptation of the way-of-working.

#### Working well

- [x] Team members are making progress as planned by using and adapting the way-of-
- [x] working to suit their current context.
- [ ] The team naturally applies the practices without thinking about them.
- [x] The tools naturally support the way that the team works.
- [x] The team continually tunes their use of the practices and tools.

#### Retired

- [ ] The team's way of working is no longer being used.
- [x] Lessons learned are shared for future use.

## Contributions

Contributions to the projected is stated below.

### Angelica Engström

- Lorem Ipsum

### Celina Tjärnström

- Lorem Ipsum

### Tobias Hansson

- Implement Git Cloning of Related Repository

### John Söderholm

- Implement Build History Database
- Implement SQLite Queries to Save and Read Build History

### Tianxing Wu

- Implement Web Request Handling
- Implement POST Commit Status
- Set Up Project
